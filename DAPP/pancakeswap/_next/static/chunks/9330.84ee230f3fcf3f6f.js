"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9330],{69330:function(e,t,i){i.r(t);var r=i(26042),o=i(99534),n=i(85893),l=i(67294),s=i(52775),a=i(83136),c=i(42298),u=i(63850),d=i(265),f=function(e){var t=e.data,i=e.setValue,f=e.setLabel,v=(0,o.Z)(e,["data","setValue","setLabel"]),b=(0,u.ZP)().theme,m=(0,s.$G)().currentLanguage.locale,h=(0,l.useRef)(null),p=(0,l.useState)(),C=p[0],w=p[1],k=(0,l.useCallback)(function(){var e;C&&(null==h?void 0:null===(e=h.current)||void 0===e?void 0:e.parentElement)&&(C.resize(h.current.parentElement.clientWidth-32,250),C.timeScale().fitContent(),C.timeScale().scrollToPosition(0,!1))},[C,h]);return(0,l.useEffect)(function(){return window.addEventListener("resize",k),function(){return window.removeEventListener("resize",k)}},[!0,h,k]),(0,l.useEffect)(function(){var e;if(!C&&t&&(null==h?void 0:null===(e=h.current)||void 0===e?void 0:e.parentElement)){var i=(0,a.C2)(h.current,{height:250,width:h.current.parentElement.clientWidth-32,layout:{backgroundColor:"transparent",textColor:b.colors.textSubtle,fontFamily:"Kanit, sans-serif",fontSize:12},rightPriceScale:{scaleMargins:{top:.1,bottom:.1},borderVisible:!1},timeScale:{borderVisible:!1,secondsVisible:!0,tickMarkFormatter:function(e){return(0,c.default)(1e3*e,"MM/dd h:mm a")}},watermark:{visible:!1},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},crosshair:{horzLine:{visible:!1,labelVisible:!1},mode:1,vertLine:{visible:!0,labelVisible:!1,style:3,width:1,color:b.colors.textSubtle,labelBackgroundColor:b.colors.primary}}});i.timeScale().fitContent(),w(i)}},[C,t,i,b]),(0,l.useEffect)(function(){if(C&&t){var e=C.addCandlestickSeries({upColor:b.colors.success,downColor:b.colors.failure,borderDownColor:b.colors.failure,borderUpColor:b.colors.success,wickDownColor:b.colors.failure,wickUpColor:b.colors.success});e.setData(t),C.subscribeCrosshairMove(function(t){if((null==h?void 0:h.current)&&(void 0===t||void 0===t.time||t&&t.point&&t.point.x<0||t&&t.point&&t.point.x>h.current.clientWidth||t&&t.point&&t.point.y<0||t&&t.point&&t.point.y>250))i&&i(void 0),f&&f(void 0);else if(e&&t){var r=t.time,o=new Date(1e3*r),n="".concat(o.toLocaleString(m,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:"UTC"})," (UTC)"),l=t.seriesPrices.get(e);i&&i(null==l?void 0:l.open),f&&f(n)}})}},[m,C,t,i,f,b]),(0,n.jsxs)(n.Fragment,{children:[!C&&(0,n.jsx)(d.PK,{}),(0,n.jsx)("div",(0,r.Z)({ref:h,id:"candle-chart"},v))]})};t.default=f}}]);