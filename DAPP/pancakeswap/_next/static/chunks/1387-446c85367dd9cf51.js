"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1387],{42885:function(e,n,t){var r=t(26042),o=t(69396),i=t(85893);t(67294);var a=t(44976),s=function(e){return(0,i.jsx)(a.Z,(0,o.Z)((0,r.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),{children:(0,i.jsx)("path",{d:"M11.3933 3.03997C10.9266 2.35331 10.3933 1.71331 9.79329 1.13997C9.55996 0.913306 9.16663 1.12664 9.23329 1.44664C9.35996 2.07331 9.49329 2.89997 9.49329 3.63997C9.49329 5.01331 8.59329 6.12664 7.21996 6.12664C6.19329 6.12664 5.35329 5.50664 4.98663 4.61997C4.91996 4.48664 4.89329 4.40664 4.85329 4.25997C4.77996 3.97997 4.41329 3.89331 4.25329 4.13997C4.13329 4.31997 4.01996 4.49997 3.91329 4.69331C3.11996 6.05331 2.66663 7.63997 2.66663 9.33331C2.66663 12.28 5.05329 14.6666 7.99996 14.6666C10.9466 14.6666 13.3333 12.28 13.3333 9.33331C13.3333 7.00664 12.6133 4.84664 11.3933 3.03997ZM7.80663 12.6666C6.61996 12.6666 5.65996 11.7333 5.65996 10.5733C5.65996 9.49331 6.35996 8.73331 7.53329 8.49331C8.51329 8.29331 9.51996 7.87331 10.22 7.21331C10.4066 7.03997 10.7133 7.11997 10.7666 7.36664C10.92 8.04664 11 8.75331 11 9.46664C11.0066 11.2333 9.57329 12.6666 7.80663 12.6666Z",fill:"currentColor"})}))};n.Z=s},55368:function(e,n,t){var r=t(26042),o=t(69396),i=t(85893);t(67294);var a=t(44976),s=function(e){return(0,i.jsx)(a.Z,(0,o.Z)((0,r.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),{children:(0,i.jsx)("path",{d:"M7.99996 11.3334C8.73329 11.3334 9.33329 10.7334 9.33329 10.0001C9.33329 9.26675 8.73329 8.66675 7.99996 8.66675C7.26663 8.66675 6.66663 9.26675 6.66663 10.0001C6.66663 10.7334 7.26663 11.3334 7.99996 11.3334ZM12 5.33342H11.3333V4.00008C11.3333 2.16008 9.83996 0.666748 7.99996 0.666748C6.15996 0.666748 4.66663 2.16008 4.66663 4.00008V5.33342H3.99996C3.26663 5.33342 2.66663 5.93341 2.66663 6.66675V13.3334C2.66663 14.0667 3.26663 14.6667 3.99996 14.6667H12C12.7333 14.6667 13.3333 14.0667 13.3333 13.3334V6.66675C13.3333 5.93341 12.7333 5.33342 12 5.33342ZM5.93329 4.00008C5.93329 2.86008 6.85996 1.93341 7.99996 1.93341C9.13996 1.93341 10.0666 2.86008 10.0666 4.00008V5.33342H5.93329V4.00008ZM12 13.3334H3.99996V6.66675H12V13.3334Z",fill:"currentColor"})}))};n.Z=s},44754:function(e,n,t){var r=t(26042),o=t(69396),i=t(85893);t(67294);var a=t(44976),s=function(e){return(0,i.jsx)(a.Z,(0,o.Z)((0,r.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),{children:(0,i.jsx)("path",{d:"M9.333 2.667l1.527 1.526-1.92 1.92.947.947 1.92-1.92 1.526 1.527v-4h-4zm-2.666 0h-4v4L4.193 5.14l3.14 3.133v5.06h1.334V7.727L5.14 4.193l1.527-1.526z",fill:"currentColor"})}))};n.Z=s},90649:function(e,n,t){var r=t(26042),o=t(69396),i=t(85893);t(67294);var a=t(44976),s=function(e){return(0,i.jsx)(a.Z,(0,o.Z)((0,r.Z)({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),{children:(0,i.jsx)("path",{d:"M8 11.333c.733 0 1.333-.6 1.333-1.333S8.733 8.667 8 8.667s-1.333.6-1.333 1.333.6 1.333 1.333 1.333zm4-6h-.667V4a3.335 3.335 0 00-6.666 0h1.266c0-1.14.927-2.067 2.067-2.067 1.14 0 2.067.927 2.067 2.067v1.333H4c-.733 0-1.333.6-1.333 1.334v6.666c0 .734.6 1.334 1.333 1.334h8c.733 0 1.333-.6 1.333-1.334V6.667c0-.734-.6-1.334-1.333-1.334zm0 8H4V6.667h8v6.666z",fill:"currentColor"})}))};n.Z=s},95059:function(e,n,t){t.d(n,{L:function(){return r},Z:function(){return C}});var r,o,i=t(26042),a=t(69396),s=t(99534),l=t(85893),c=t(52775),u=t(67290),d=t(5203),m=t(58600),x=t(2529),f=t(62149),h=t(75545),p=t(98553),k=t(52175),g=t(5286),Z=t(47568),v=t(70655);(0,Z.Z)(function(e,n,t,r){var o,i;return(0,v.__generator)(this,function(i){switch(i.label){case 0:return o=r?k.X[r]?void 0:r:void 0,[4,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:n,decimals:t,image:o}}})];case 1:return[2,i.sent()]}})});var b,j=function(){var e,n,t,r,o;return!(null==window?void 0:null===(e=window.ethereum)||void 0===e?void 0:e.isSafePal)&&((null==window?void 0:null===(n=window.ethereum)||void 0===n?void 0:n.isMetaMask)||(null==window?void 0:null===(t=window.ethereum)||void 0===t?void 0:t.isTrust)||(null==window?void 0:null===(r=window.ethereum)||void 0===r?void 0:r.isCoinbaseWallet)||(null==window?void 0:null===(o=window.ethereum)||void 0===o?void 0:o.isTokenPocket))};(b=r||(r={}))[b.NO_TEXT=0]="NO_TEXT",b[b.TEXT=1]="TEXT",b[b.TEXT_WITH_ASSET=2]="TEXT_WITH_ASSET";var w={Binance:u.Z,"Coinbase Wallet":d.Z,Opera:m.Z,TokenPocket:x.Z,"Trust Wallet":f.Z,MetaMask:h.Z},y=function(e,n){var t,r,o,a,s=(0,i.Z)({width:"16px"},e&&{ml:e});if(n&&w[n]){var c=w[n];return(0,l.jsx)(c,(0,i.Z)({},s))}return(null==window?void 0:null===(t=window.ethereum)||void 0===t?void 0:t.isTrust)?(0,l.jsx)(f.Z,(0,i.Z)({},s)):(null==window?void 0:null===(r=window.ethereum)||void 0===r?void 0:r.isCoinbaseWallet)?(0,l.jsx)(d.Z,(0,i.Z)({},s)):(null==window?void 0:null===(o=window.ethereum)||void 0===o?void 0:o.isTokenPocket)?(0,l.jsx)(x.Z,(0,i.Z)({},s)):(null==window||null===(a=window.ethereum)||void 0===a||a.isMetaMask,(0,l.jsx)(h.Z,(0,i.Z)({},s)))},C=function(e){var n,t,o,u=e.tokenAddress,d=e.tokenSymbol,m=e.tokenDecimals,x=e.tokenLogo,f=e.textOptions,h=void 0===f?r.NO_TEXT:f,Z=e.marginTextBetweenLogo,v=(0,s.Z)(e,["tokenAddress","tokenSymbol","tokenDecimals","tokenLogo","textOptions","marginTextBetweenLogo"]),b=(0,c.$G)().t,w=(0,g.mA)(),C=w.connector,S=w.isConnected,T=j();return(!C||"Binance"!==C.name)&&C&&C.watchAsset&&S&&T?(0,l.jsxs)(p.Z,(0,a.Z)((0,i.Z)({},v),{onClick:function(){var e,n=x?k.X[x]?void 0:x:void 0;null===(e=C.watchAsset)||void 0===e||e.call(C,{address:u,symbol:d,image:n,decimals:m})},children:[h!==r.NO_TEXT&&(h===r.TEXT?b("Add to Wallet"):b("Add %asset% to Wallet",{asset:d})),y(void 0===Z?"0px":Z,null==C?void 0:C.name)]})):null}},95934:function(e,n,t){t.d(n,{h2:function(){return x},hl:function(){return d},m5:function(){return m}});var r=t(7297),o=t(87379),i=t(44147);function a(){var e=(0,r.Z)(["\n  width: ",";\n  padding: ",";\n  border: ",";\n  border-radius: ",";\n  background-color: ",";\n"]);return a=function(){return e},e}function s(){var e=(0,r.Z)(["\n  border: 1px solid ",";\n  background-color: ",";\n"]);return s=function(){return e},e}function l(){var e=(0,r.Z)(["\n  border: 1px solid ",";\n  background-color: ",";\n"]);return l=function(){return e},e}function c(){var e=(0,r.Z)(["\n  background-color: ",";\n"]);return c=function(){return e},e}var u=(0,o.ZP)(i.Z).withConfig({componentId:"sc-21be8dee-0"})(a(),function(e){var n=e.width;return null!=n?n:"100%"},function(e){var n=e.padding;return null!=n?n:"1.25rem"},function(e){return e.border},function(e){var n=e.borderRadius;return null!=n?n:"16px"},function(e){return e.theme.colors.background});n.ZP=u;var d=(0,o.ZP)(u).withConfig({componentId:"sc-21be8dee-1"})(s(),function(e){return e.theme.colors.cardBorder},function(e){return e.theme.colors.backgroundAlt}),m=(0,o.ZP)(u).withConfig({componentId:"sc-21be8dee-2"})(l(),function(e){return e.theme.colors.cardBorder},function(e){return e.theme.colors.background}),x=(0,o.ZP)(u).withConfig({componentId:"sc-21be8dee-3"})(c(),function(e){return e.theme.colors.dropdown})},49923:function(e,n,t){var r=t(7297),o=t(87379);function i(){var e=(0,r.Z)(["\n  border: 1px solid ",";\n  width: 100%;\n"]);return i=function(){return e},e}var a=o.ZP.hr.withConfig({componentId:"sc-d9299de2-0"})(i(),function(e){return e.theme.colors.cardBorder});n.Z=a},52175:function(e,n,t){t.d(n,{X:function(){return c}});var r=t(26042),o=t(69396),i=t(99534),a=t(85893),s=t(67294),l=t(95160),c={},u=function(e){var n=e.srcs,t=e.alt,u=(0,i.Z)(e,["srcs","alt"]),d=(0,s.useState)(0)[1],m=n.find(function(e){return!c[e]});return m?(0,a.jsx)("img",(0,o.Z)((0,r.Z)({},u),{alt:t,src:m,onError:function(){m&&(c[m]=!0),d(function(e){return e+1})}})):(0,a.jsx)(l.Z,(0,r.Z)({},u))};n.Z=u},60557:function(e,n,t){t.d(n,{o:function(){return y}});var r=t(47568),o=t(10253),i=t(70655),a=t(2593),s=t(20335),l=t(21046),c=t(79833),u=t.n(c),d=t(97478),m=t(84951),x=t(67294),f=t(83251),h=t(49770),p=t(69352),k=t(87318),g=t(62712),Z=t(9796),v=(0,p.Oc)(),b=a.O$.from("1000000000000"),j=function(e,n,t){return s.xs.from(e).mulUnsafe(s.xs.from(Math.max(n,0))).divUnsafe(s.xs.from(t)).divUnsafe(s.xs.from(b))},w=function(e,n){return s.xs.from(e).mulUnsafe(n.addUnsafe(s.xs.from("1")))};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.duration,t=void 0===n?g.VO:n,a=(0,f.Xo)(),c=a.totalShares,p=void 0===c?k.HW:c,b=a.pricePerFullShare,y=void 0===b?k.HW:b,C=a.fees,S=(void 0===C?{performanceFeeAsDecimal:2}:C).performanceFeeAsDecimal,T=(0,x.useMemo)(function(){return s.xs.from(p.toString())},[p]),A=(0,x.useMemo)(function(){return s.xs.from(y.toString())},[y]),D=(0,h.Z)("masterChef-total-cake-pool-emission",(0,r.Z)(function(){var e,n,t,r,a,l,c,u;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return e=[{address:v,name:"cakePerBlock",params:[!1]},{address:v,name:"poolInfo",params:[0]},{address:v,name:"totalSpecialAllocPoint"}],[4,(0,Z.v)({abi:m,calls:e})];case 1:return n=o.Z.apply(void 0,[t.sent(),3]),r=(0,o.Z)(n[0],1)[0],a=n[1],c=(0,o.Z)(n[2],1)[0],u=s.xs.from(a.allocPoint).divUnsafe(s.xs.from(c)),[2,s.xs.from(r).mulUnsafe(s.xs.from(d.Bi)).mulUnsafe(u)]}})})).data,L=(0,x.useMemo)(function(){var e,n,t;return D&&!A.isZero()&&!T.isZero()&&D.mulUnsafe(s.xs.from(l.Ce)).divUnsafe(A).divUnsafe(T).mulUnsafe(s.xs.from(100)).toString()},[A,D,T]),P=(0,x.useMemo)(function(){return j(g.xt,t,g.A0)},[t]),B=(0,x.useMemo)(function(){return L&&w(L,P).toString()},[P,L]),V=(0,x.useCallback)(function(e){return j(g.xt,e,g.A0)},[]);return{flexibleApy:(0,x.useMemo)(function(){if(L&&S){var e=u()(1-S/100);return s.xs.from(L).mulUnsafe(s.xs.from(e)).toString()}return L},[L,S]),lockedApy:B,getLockedApy:(0,x.useCallback)(function(e){return L&&w(L,V(e)).toString()},[L,V]),boostFactor:(0,x.useMemo)(function(){return P.addUnsafe(s.xs.from("1"))},[P]),getBoostFactor:(0,x.useCallback)(function(e){return V(e).addUnsafe(s.xs.from("1"))},[V])}}},42232:function(e,n,t){t.d(n,{At:function(){return a},Ch:function(){return o},Eg:function(){return i}});var r=t(91713),o=function(e){return Math.floor(e/86400)},i=function(e){return 1e3*parseInt(e)},a=function(e){var n=new Date(e);return new Date>n||!Number.isFinite(e)?"0 seconds":(0,r.Z)(n)}},47451:function(e,n,t){var r=t(26042),o=t(69396),i=t(99534),a=t(10253),s=t(7297),l=t(85893),c=t(87379),u=t(75943),d=t(21812),m=t(98553),x=t(55078),f=t(62077),h=t(62685),p=t(92764),k=t(18778),g=t(52775),Z=t(44431),v=t.n(Z),b=t(87318),j=t(62712),w=t(88770),y=t(87237);function C(){var e=(0,s.Z)(["\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return C=function(){return e},e}var S=(0,c.ZP)(u.Z).withConfig({componentId:"sc-16c49e0e-0"})(C()),T=function(e){var n,t,s=e.pool,c=e.showIcon,u=e.stakedBalance,Z=e.fontSize,C=e.performanceFee,T=(0,i.Z)(e,["pool","showIcon","stakedBalance","fontSize","performanceFee"]),A=s.stakingToken,D=s.earningToken,L=s.isFinished,P=s.earningTokenPrice,B=s.stakingTokenPrice,V=s.userData,I=s.apr,E=s.rawApr,F=s.vaultKey,M=(0,g.$G)().t,N=(0,w.je)(),G=(0,y.zy)(s,N),O=G.shouldShowBlockCountdown,$=G.hasPoolStarted,U=(null==V?void 0:V.stakingTokenBalance)?new(v())(V.stakingTokenBalance):b.HW,W=A.address?"/swap?outputCurrency=".concat(A.address):"/swap",z=(0,a.Z)((0,d.Z)((0,l.jsx)(p.Z,{earningTokenPrice:P,stakingTokenPrice:B,stakingTokenBalance:u.plus(U),apr:F?E:I,stakingTokenSymbol:A.symbol,linkLabel:M("Get %symbol%",{symbol:A.symbol}),linkHref:W,earningTokenSymbol:D.symbol,autoCompoundFrequency:null!==(t=null===(n=j.Y4[F])||void 0===n?void 0:n.autoCompoundFrequency)&&void 0!==t?t:0,performanceFee:void 0===C?0:C})),1)[0],H=function(e){e.stopPropagation(),z()},_=void 0!==I&&!Number.isNaN(I);return(0,l.jsx)(S,(0,o.Z)((0,r.Z)({alignItems:"center",justifyContent:"flex-start"},T),{children:_||L?(0,l.jsx)(l.Fragment,{children:$||!O?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k.s,{onClick:function(e){c&&H(e)},fontSize:void 0===Z?"16px":Z,isDisabled:L,value:L?0:I,decimals:2,unit:"%"}),!L&&c&&(0,l.jsx)(m.Z,{onClick:H,variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,l.jsx)(x.Z,{color:"textSubtle",width:"20px"})})]}):(0,l.jsx)(f.Z,{children:"-"})}):(0,l.jsx)(h.Z,{width:"80px",height:"16px"})}))};n.Z=T},51463:function(e,n,t){var r=t(85893),o=t(62077),i=t(52775),a=t(76972),s=t(83251),l=t(96470),c=t(87237),u=function(e){var n=e.pool,t=e.account,u=(0,i.$G)().t,d=n.earningTokenPrice,m=(0,s.eB)(n.vaultKey),x=m.pricePerFullShare,f=m.userData,h=(0,c.UN)(t,f.cakeAtLastUserAction,f.userShares,x,d,n.vaultKey===l.om.CakeVault?f.currentPerformanceFee.plus(f.currentOverdueFee).plus(f.userBoostedShare):null),p=h.autoCakeToDisplay,k=h.autoUsdToDisplay,g=f.lastUserActionTime?1e3*parseInt(f.lastUserActionTime):0,Z=(0,a.Z)(Date.now(),g);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Z,{bold:!0,children:[p.toFixed(3)," CAKE"]}),(0,r.jsxs)(o.Z,{bold:!0,children:["~$",k.toFixed(2)]}),(0,r.jsxs)(o.Z,{children:[u("Earned since your last action"),":"]}),(0,r.jsx)(o.Z,{children:new Date(g).toLocaleString()}),Z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Z,{children:[u("Your average per hour"),":"]}),(0,r.jsx)(o.Z,{bold:!0,children:u("CAKE per hour: %amount%",{amount:(Z?p/Z:0).toFixed(2)})}),(0,r.jsx)(o.Z,{bold:!0,children:u("per hour: ~$%amount%",{amount:(Z?k/Z:0).toFixed(2)})})]}):null]})};n.Z=u},987:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(85893),o=t(88896),i=t(62077),a=t(75943),s=t(94998),l=t(29315),c=t(52775),u=t(15184),d=t(70008),m=t(83251),x=t(42232),f=t(13471),h=function(e){var n=e.secondsRemaining,t=(0,c.$G)().t,o=(0,f.Z)(n),a=o.days,s=o.hours,l=o.minutes;return(0,r.jsx)(i.Z,{bold:!0,fontSize:"14px",children:t("%day%d:%hour%h:%minute%m",{day:a,hour:s,minute:l})})},p=function(e){var n=e.isTableVariant,t=e.vaultKey,f=(0,c.$G)().t,p=(0,l.Ge)().account,k=(0,m.eB)(t),g=k.userData,Z=g.lastDepositedTime,v=g.userShares,b=k.fees,j=b.withdrawalFee,w=b.withdrawalFeePeriod,y=j/100||"-",C=w?(0,x.Ch)(w):"-",S=(0,o.Z)((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{bold:!0,mb:"4px",children:f("Unstaking fee: %fee%%",{fee:y})}),(0,r.jsx)(i.Z,{children:f("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:C})})]}),{placement:"bottom-start"}),T=S.targetRef,A=S.tooltip,D=S.tooltipVisible,L=(0,u.Z)(parseInt(Z,10),v,w),P=L.secondsRemaining,B=L.hasUnstakingFee,V=Z&&!B&&v.gt(0),I=p&&Z&&B,E=w?(0,d.Z)(w):"-";return(0,r.jsxs)(a.Z,{alignItems:n?"flex-start":"center",justifyContent:"space-between",flexDirection:n?"column":"row",children:[D&&A,(0,r.jsxs)(s.Z,{ref:T,small:!0,textTransform:"lowercase",children:[V?"0":y,"% ",V?f("Unstaking Fee"):I?f("unstaking fee before"):f("unstaking fee if withdrawn within %num%h",{num:E})]}),I&&(0,r.jsx)(h,{secondsRemaining:P})]})}},46358:function(e,n,t){t.d(n,{Z:function(){return er}});var r=t(47568),o=t(7297),i=t(36305),a=t(70655),s=t(85893),l=t(67294),c=t(87379),u=t(98553),d=t(75943),m=t(62077),x=t(19237),f=t(85937),h=t(63970),p=t(39665),k=t(68118),g=t(89663),Z=t(55078),v=t(62685),b=t(44147),j=t(63771),w=t(29315),y=t(52775),C=t(82618),S=t(48674),T=t(83251),A=t(60557),D=t(36963),L=t(63850),P=t(15184),B=t(44431),V=t.n(B),I=t(59123),E=t(76431),F=t(45678),M=t(96470),N=t(42115),G=t(96036),O=t(62712),$=t(85900),U=t(27750),W=t(92831),z=t(36724),H=t(88896),_=t(94998),K=t(42232),R=t(987),Y=function(e){var n=e.stakingTokenSymbol,t=e.stakeAmount,r=e.vaultKey,o=(0,y.$G)().t,i=(0,T.eB)(r),a=i.fees,l=a.withdrawalFee,c=a.withdrawalFeePeriod,u=i.userData.lastDepositedTime,x=l/100,f=(parseFloat(t)*(x/100)).toFixed(4),h=c?(0,K.Ch)(c):"-",p=(0,H.Z)((0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{bold:!0,mb:"4px",children:o("Unstaking fee: %fee%%",{fee:x})}),(0,s.jsx)(m.Z,{children:o("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:h})})]}),{placement:"top-start"}),k=p.targetRef,g=p.tooltip,Z=p.tooltipVisible,v=u&&(0,P.D)(parseInt(u,10),c);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[Z&&g,(0,s.jsx)(_.Z,{ref:k,small:!0,children:o("Unstaking Fee")}),(0,s.jsxs)(m.Z,{fontSize:"14px",children:[t&&v?f:"-"," ",n]})]}),(0,s.jsx)(R.Z,{vaultKey:r})]})},X=t(87237);function q(){var e=(0,o.Z)(["\n  flex-grow: 1;\n"]);return q=function(){return e},e}function J(){var e=(0,o.Z)(["\n  cursor: pointer;\n"]);return J=function(){return e},e}function Q(){var e=(0,o.Z)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]);return Q=function(){return e},e}var ee=(0,c.ZP)(u.Z).withConfig({componentId:"sc-2745a1c3-0"})(q()),en=(0,c.ZP)(d.Z).withConfig({componentId:"sc-2745a1c3-1"})(J()),et=(0,c.ZP)(m.Z).withConfig({componentId:"sc-2745a1c3-2"})(Q()),er=function(e){var n,t,o,c=e.pool,B=e.stakingMax,H=e.performanceFee,_=e.isRemovingStake,K=void 0!==_&&_,R=e.onDismiss,q=(0,C.TL)(),J=c.stakingToken,Q=c.earningTokenPrice,er=c.vaultKey,eo=(0,w.Ge)().account,ei=(0,E.Z)(),ea=ei.fetchWithCatchTxError,es=ei.loading,el=(0,D.Ak)(c.vaultKey),ec=(0,$.d)().callWithGasPrice,eu=(0,T.eB)(c.vaultKey).userData,ed=eu.lastDepositedTime,em=eu.userShares,ex=eu.balance,ef=ex.cakeAsBigNumber,eh=ex.cakeAsNumberBalance,ep=(0,y.$G)().t,ek=(0,L.ZP)().theme,eg=(0,x.p)().toastSuccess,eZ=(0,l.useState)(""),ev=eZ[0],eb=eZ[1],ej=(0,l.useState)(0),ew=ej[0],ey=ej[1],eC=(0,l.useState)(!1),eS=eC[0],eT=eC[1],eA=(0,P.Z)(parseInt(ed,10),em).hasUnstakingFee,eD=(0,S.Iu)(),eL=new(V())(ev).times(eD),eP=eD.gt(0)&&ev?(0,I.uf)(eL.toNumber()):"",eB=(0,A.o)().flexibleApy,eV={gasLimit:O.Y4[c.vaultKey].gasLimit},eI=(0,N.A1)({principalInUSD:eL.isNaN()?0:eL.toNumber(),apr:+eB,earningTokenPrice:Q,performanceFee:H,compoundFrequency:0})[3]*c.earningTokenPrice,eE=(0,I.uf)(eI,eI>1e4?0:2,eI>1e4?0:2),eF=J.address?"/swap?outputCurrency=".concat(J.address):"/swap",eM=(0,I.Qe)(new(V())(ev),J.decimals),eN=function(e){if(e){var n=Math.floor(new(V())(e).multipliedBy((0,U.t)(J.decimals)).dividedBy(B).multipliedBy(100).toNumber());ey(n>100?100:n)}else ey(0);eb(e)},eG=(0,l.useCallback)(function(e){if(e>0){var n=B.dividedBy(100).multipliedBy(e);eb((0,I.NJ)(n,J.decimals,J.decimals))}else eb("");ey(e)},[B,J.decimals]),eO=(n=(0,r.Z)(function(){var e,n;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return e=B.minus(eM).lte(X.dF),[4,ea(function(){return e?ec(el,"withdrawAll",void 0,eV):ec(el,"withdrawByAmount",[eM.toString()],eV)})];case 1:return(null==(n=t.sent())?void 0:n.status)&&(eg(ep("Unstaked!"),(0,s.jsx)(G.Y,{txHash:n.transactionHash,children:ep("Your earnings have also been harvested to your wallet")})),null==R||R(),q((0,F.x$)({account:eo}))),[2]}})}),function(){return n.apply(this,arguments)}),e$=(t=(0,r.Z)(function(){var e,n,t=arguments;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:0,[4,ea(function(){var n=c.vaultKey===M.om.CakeVault?[e.toString()]:[];return ec(el,"deposit",[eM.toString()].concat((0,i.Z)(n)),eV)})];case 1:return(null==(n=r.sent())?void 0:n.status)&&(eg(ep("Staked!"),(0,s.jsx)(G.Y,{txHash:n.transactionHash,children:ep("Your funds have been staked in the pool")})),null==R||R(),q((0,F.x$)({account:eo}))),[2]}})}),function(){return t.apply(this,arguments)}),eU=(o=(0,r.Z)(function(){return(0,a.__generator)(this,function(e){return K?eO():e$(),[2]})}),function(){return o.apply(this,arguments)});return eS?(0,s.jsx)(W.E,{pool:c,linkLabel:ep("Get %symbol%",{symbol:J.symbol}),linkHref:eF,stakingTokenBalance:ef.plus(B),onBack:function(){return eT(!1)},initialValue:ev,performanceFee:H}):(0,s.jsxs)(f.Z,{title:K?ep("Unstake"):ep("Stake in Pool"),onDismiss:R,headerBackground:ek.colors.gradientCardHeader,children:[(0,s.jsxs)(d.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,s.jsxs)(m.Z,{bold:!0,children:[K?ep("Unstake"):ep("Stake"),":"]}),(0,s.jsxs)(d.Z,{alignItems:"center",minWidth:"70px",children:[(0,s.jsx)(h.Z,{src:"/images/tokens/".concat(J.address,".png"),width:24,height:24,alt:J.symbol}),(0,s.jsx)(m.Z,{ml:"4px",bold:!0,children:J.symbol})]})]}),(0,s.jsx)(p.Z,{value:ev,onUserInput:eN,currencyValue:eD.gt(0)&&"~".concat(eP||0," USD"),decimals:J.decimals}),(0,s.jsx)(m.Z,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:ep("Balance: %balance%",{balance:(0,I.NJ)(B,J.decimals)})}),(0,s.jsx)(k.Z,{min:0,max:100,value:ew,onValueChanged:eG,name:"stake",valueLabel:"".concat(ew,"%"),step:1}),(0,s.jsxs)(d.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eG(25)},children:"25%"}),(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eG(50)},children:"50%"}),(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eG(75)},children:"75%"}),(0,s.jsx)(ee,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return eG(100)},children:ep("Max")})]}),K&&eA&&(0,s.jsx)(Y,{vaultKey:er,stakingTokenSymbol:J.symbol,stakeAmount:ev}),!K&&(0,s.jsxs)(d.Z,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[(0,s.jsxs)(m.Z,{mr:"8px",color:"textSubtle",children:[ep("Annual ROI at current rates"),":"]}),Number.isFinite(eI)?(0,s.jsxs)(en,{alignItems:"center",onClick:function(){eT(!0)},children:[(0,s.jsxs)(et,{children:["$",eE]}),(0,s.jsx)(g.Z,{variant:"text",scale:"sm",children:(0,s.jsx)(Z.Z,{color:"textSubtle",width:"18px"})})]}):(0,s.jsx)(v.Z,{width:60})]}),c.vaultKey===M.om.CakeVault&&eh?(0,s.jsx)(b.Z,{mt:"8px",maxWidth:"370px",children:(0,s.jsx)(z.Z,{stakingToken:J,currentStakedAmount:eh})}):null,(0,s.jsx)(u.Z,{isLoading:es,endIcon:es?(0,s.jsx)(j.Z,{spin:!0,color:"currentColor"}):null,onClick:eU,disabled:!ev||0===parseFloat(ev)||B.lt(eM),mt:"24px",children:es?ep("Confirming"):ep("Confirm")}),!K&&(0,s.jsx)(u.Z,{mt:"8px",as:"a",external:!0,href:eF,variant:"secondary",children:ep("Get %symbol%",{symbol:J.symbol})})]})}},10270:function(e,n,t){t.d(n,{Z:function(){return F}});var r=t(10253),o=t(85893),i=t(67294),a=t(21812),s=t(98553),l=t(62685),c=t(52775),u=t(83251),d=t(11699),m=t(42232),x=t(27208),f=t(75943),h=t(92052),p=t(62077),k=t(85937),g=t(44147),Z=t(50308),v=t.n(Z),b=t(44431),j=t.n(b),w=t(63850),y=t(2629),C=t(59123),S=t(62712),T=t(87318),A=t(55336),D=t(6260),L=t(86981),P=t(60494),B=function(e){var n=e.setCheckedState,t=e.checkedState,r=(0,c.$G)().t;return(0,o.jsxs)(o.Fragment,{children:[!t&&(0,o.jsx)(x.Z,{variant:"warning",mb:"16px",children:(0,o.jsx)(x.Y,{maxWidth:"320px",children:r("Adding more CAKE will renew your lock, setting it to remaining duration. Due to shorter lock period, benefits decrease. To keep similar benefits, extend your lock.")})}),(0,o.jsxs)(f.Z,{alignItems:"center",children:[(0,o.jsx)(h.Z,{checked:t,onChange:function(){return n(function(e){return!e})},scale:"sm"}),(0,o.jsx)(p.Z,{ml:"8px",color:"text",children:r("Renew and extend your lock to keep similar benefits.")})]})]})},V=function(e){var n=e.onDismiss,t=e.currentBalance,r=e.currentLockedAmount,a=e.stakingToken,s=e.lockStartTime,l=e.lockEndTime,x=e.stakingTokenBalance,f=(0,w.ZP)().theme,h=(0,u.dd)(),p=(0,i.useState)(""),Z=p[0],b=p[1],V=(0,i.useState)(!1),I=V[0],E=V[1],F=(0,c.$G)().t,M=Number.isNaN(new(j())(Z).toNumber())?T.HW:new(j())(Z),N=(0,C.mW)(r.plus((0,C.Qe)(M))),G=(0,C.U4)(r),O=(0,y.Tx)(M.toNumber()),$=(0,y.Tx)(N),U=(0,d.Z)(new Date((0,m.Eg)(l)),new Date,{roundingMethod:"ceil"}),W=(0,d.Z)(new Date,new Date((0,m.Eg)(s)),{roundingMethod:"ceil"}),z=Math.max(S.kp+60,U+W),H=(0,i.useCallback)(function(){return{finalDuration:I?z-U:0}},[z,I,U]),_=(0,i.useCallback)(function(){return(0,o.jsx)(P.Z,{isValidDuration:!0,openCalculator:v(),duration:U,newDuration:I?z:null,lockedAmount:G.toNumber(),newLockedAmount:N,usdValueStaked:$,lockEndTime:l,ceiling:h})},[U,I,G,z,N,$,l,h,]);return(0,o.jsx)(A.Z,{lockedAmount:Z,children:(0,o.jsxs)(k.Z,{style:{maxWidth:"420px"},title:F("Add CAKE"),onDismiss:n,headerBackground:f.colors.gradientCardHeader,children:[(0,o.jsx)(g.Z,{mb:"16px",children:(0,o.jsx)(D.Z,{stakingAddress:a.address,stakingSymbol:a.symbol,stakingDecimals:a.decimals,lockedAmount:Z,usedValueStaked:O,stakingMax:t,setLockedAmount:b,stakingTokenBalance:x})}),(0,o.jsx)(L.Z,{currentBalance:t,stakingToken:a,onDismiss:n,lockedAmount:M,editAmountOnly:(0,o.jsx)(B,{checkedState:I,setCheckedState:E}),prepConfirmArg:H,customOverview:_})]})})},I=t(52438),E=function(e){var n=e.currentBalance,t=e.stakingToken,d=e.currentLockedAmount,m=e.lockEndTime,x=e.lockStartTime,f=e.stakingTokenBalance,h=(0,u.AI)(0).pool.userDataLoaded,p=(0,c.$G)().t,k=(0,r.Z)((0,a.Z)((0,o.jsx)(V,{currentLockedAmount:d,currentBalance:n,stakingToken:t,lockStartTime:x,lockEndTime:m,stakingTokenBalance:f}),!0,!0,"AddAmountModal"),1)[0],g=(0,r.Z)((0,a.Z)((0,o.jsx)(I.Z,{tokenSymbol:t.symbol})),1)[0],Z=(0,i.useCallback)(function(){return n.gt(0)?k():g()},[n,k,g]);return h?(0,o.jsx)(s.Z,{onClick:Z,width:"100%",style:{whiteSpace:"nowrap",paddingLeft:0,paddingRight:0},children:p("Add CAKE")}):(0,o.jsx)(l.Z,{height:48})},F=(0,i.memo)(E)},39274:function(e,n,t){t.d(n,{Z:function(){return I}});var r=t(26042),o=t(69396),i=t(99534),a=t(10253),s=t(85893),l=t(67294),c=t(21812),u=t(98553),d=t(62712),m=t(85937),x=t(44147),f=t(50308),h=t.n(f),p=t(63850),k=t(2629),g=t(52775),Z=t(44431),v=t.n(Z),b=t(83251),j=t(59123),w=t(62077),y=t(75943),C=t(63970),S=t(18778),T=t(49923),A=function(e){var n=e.stakingSymbol,t=e.stakingAddress,r=e.lockedAmount,o=e.usdValueStaked,i=(0,g.$G)().t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:i("Add CAKE to lock")}),(0,s.jsxs)(y.Z,{alignItems:"center",justifyContent:"space-between",mb:"16px",children:[(0,s.jsxs)(x.Z,{children:[(0,s.jsx)(S.s,{color:"text",bold:!0,fontSize:"16px",value:r,decimals:2}),(0,s.jsx)(S.s,{value:o,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),(0,s.jsxs)(y.Z,{alignItems:"center",minWidth:"70px",children:[(0,s.jsx)(C.Z,{src:"/images/tokens/".concat(t,".png"),width:24,height:24,alt:n}),(0,s.jsx)(w.Z,{ml:"4px",bold:!0,children:n})]})]}),(0,s.jsx)(T.Z,{})]})},D=t(86981),L=t(60494),P=t(55336),B=t(87237),V=function(e){var n=e.modalTitle,t=e.stakingToken,r=e.onDismiss,o=e.currentLockedAmount,i=e.currentDuration,a=e.currentDurationLeft,c=e.currentBalance,u=e.lockStartTime,f=(0,p.ZP)().theme,Z=(0,b.dd)(),w=(0,g.$G)().t,y=(0,k.Tx)(o),C=(0,l.useCallback)(function(e){var n=e.duration,t=a+n;return{isValidAmount:o&&o>0,isValidDuration:n>0&&t>0&&t<=d.VO,isOverMax:t>d.VO}},[o,a]),S=(0,l.useCallback)(function(e){var n=e.duration;return{finalDuration:n,finalLockedAmount:i&&i+n>d.VO?(0,j.U4)(B.iL,t.decimals).toNumber():0}},[t.decimals,i]),T=(0,l.useCallback)(function(e){var n=e.isValidDuration,t=e.duration;return(0,s.jsx)(L.Z,{lockStartTime:i+t>d.VO?Math.floor(Date.now()/1e3).toString():u,isValidDuration:n,openCalculator:h(),duration:i||t,newDuration:i+t>d.VO?a+t:i+t,lockedAmount:o,usdValueStaked:y,showLockWarning:!+u,ceiling:Z})},[u,i,o,a,y,Z]);return(0,s.jsx)(P.Z,{lockedAmount:o,children:(0,s.jsxs)(m.Z,{title:n||w("Extend Lock"),onDismiss:r,headerBackground:f.colors.gradientCardHeader,children:[(0,s.jsx)(x.Z,{mb:"16px",children:(0,s.jsx)(A,{stakingAddress:t.address,stakingSymbol:t.symbol,lockedAmount:o,usdValueStaked:y})}),(0,s.jsx)(D.Z,{stakingToken:t,currentBalance:c,currentDuration:i,currentDurationLeft:a,onDismiss:r,lockedAmount:new(v())(o),validator:C,prepConfirmArg:S,customOverview:T})]})})},I=function(e){var n=e.modalTitle,t=e.stakingToken,m=e.currentLockedAmount,x=e.currentBalance,f=e.lockEndTime,h=e.lockStartTime,p=e.children,k=(0,i.Z)(e,["modalTitle","stakingToken","currentLockedAmount","currentBalance","lockEndTime","lockStartTime","children"]),g=Math.floor(Date.now()/1e3),Z=(0,l.useMemo)(function(){return Number(f)-Number(h)},[f,h]),v=(0,l.useMemo)(function(){return Math.max(Number(f)-g,0)},[f,g]),b=(0,a.Z)((0,c.Z)((0,s.jsx)(V,{modalTitle:n,stakingToken:t,lockStartTime:h,currentBalance:x,currentLockedAmount:m,currentDuration:Z,currentDurationLeft:v}),!0,!0,"ExtendDurationModal"),1)[0];return(0,s.jsx)(u.Z,(0,o.Z)((0,r.Z)({disabled:Number.isFinite(v)&&d.VO-v<d.kp,onClick:b,width:"100%"},k),{children:p}))}},87326:function(e,n,t){t.d(n,{Z:function(){return I}});var r,o=t(14924),i=t(85893),a=t(67294),s=t(34701),l=t(75943),c=t(44147),u=t(27208),d=t(52775),m=t(4369),x=t(23702),f=t(47568),h=t(26042),p=t(69396),k=t(70655),g=t(19237),Z=t(98553),v=t(29315),b=t(96036),j=t(62712),w=t(85900),y=t(76431),C=t(36963),S=t(82618),T=t(45678),A=t(96470),D=function(e){var n=(0,S.TL)(),t=(0,v.Ge)().account,r=(0,y.Z)(),o=r.fetchWithCatchTxError,s=r.loading,l=(0,C.Ak)(A.om.CakeVault),c=(0,w.d)().callWithGasPrice,u=(0,d.$G)().t,m=(0,g.p)().toastSuccess,x=(0,a.useCallback)((0,f.Z)(function(){var e,r;return(0,k.__generator)(this,function(a){switch(a.label){case 0:return e={gasLimit:j.Y4[A.om.CakeVault].gasLimit},[4,o(function(){return c(l,"unlock",[t],e)})];case 1:return(null==(r=a.sent())?void 0:r.status)&&(m(u("Staked!"),(0,i.jsx)(b.Y,{txHash:r.transactionHash,children:u("Your funds have been staked in the pool")})),n((0,T.x$)({account:t}))),[2]}})}),[u,m,t,c,n,o,l]);return(0,i.jsx)(Z.Z,(0,p.Z)((0,h.Z)({width:"100%",disabled:s,onClick:x},e),{children:s?u("Converting..."):u("Convert to Flexible")}))},L=(0,a.memo)(D),P=t(39274),B=(r={},(0,o.Z)(r,x.PS.None,null),(0,o.Z)(r,x.PS.Flexible,null),(0,o.Z)(r,x.PS.Locked,null),(0,o.Z)(r,x.PS.LockedEnd,(0,i.jsx)(m.Z,{children:"The lock period has ended. Convert to flexible staking or renew your position to start a new lock staking."})),(0,o.Z)(r,x.PS.AfterBurning,(0,i.jsx)(m.Z,{children:"The lock period has ended. To avoid more rewards being burned, convert to flexible staking or renew your position to start a new lock staking."})),r),V=function(e){var n=e.currentLockedAmount,t=e.stakingToken,r=e.position,o=e.isInline,a=(0,d.$G)().t,m=(0,s.Z)().isDesktop,x=o&&m,f=x?l.Z:c.Z;return(0,i.jsx)(u.Z,{variant:"warning",mb:"16px",action:(0,i.jsxs)(f,{mt:!x&&"8px",ml:"10px",children:[(0,i.jsx)(L,{mb:!x&&"8px",minWidth:x&&"200px",mr:x&&"14px"}),(0,i.jsx)(P.Z,{modalTitle:a("Renew"),lockEndTime:"0",lockStartTime:"0",stakingToken:t,currentLockedAmount:n,minWidth:"186px",children:a("Renew")})]}),actionInline:x,children:(0,i.jsx)(u.Y,{children:B[r]})})},I=(0,a.memo)(V)},6260:function(e,n,t){var r=t(7297),o=t(85893),i=t(98553),a=t(75943),s=t(62077),l=t(63970),c=t(39665),u=t(68118),d=t(44431),m=t.n(d),x=t(52775),f=t(67294),h=t(87379),p=t(59123),k=t(27750),g=t(3938);function Z(){var e=(0,r.Z)(["\n  flex-grow: 1;\n"]);return Z=function(){return e},e}var v=(0,h.ZP)(i.Z).withConfig({componentId:"sc-ea126f5-0"})(Z()),b=function(e){var n=e.stakingAddress,t=e.stakingSymbol,r=e.stakingDecimals,i=e.lockedAmount,d=e.stakingMax,h=e.setLockedAmount,Z=e.usedValueStaked,b=e.stakingTokenBalance,j=(0,x.$G)().t,w=(0,g.S)(i,b),y=w.userNotEnoughCake,C=w.notEnoughErrorMessage,S=(0,f.useMemo)(function(){var e=new(m())(i);if(e.gt(0)){var n=Math.floor(e.multipliedBy((0,k.t)(r)).dividedBy(d).multipliedBy(100).toNumber());return n>100?100:n}return 0},[i,r,d]),T=(0,f.useCallback)(function(e){h(e)},[h]),A=(0,f.useCallback)(function(e){if(e>0){var n=d.dividedBy(100).multipliedBy(e),t=(0,p.NJ)(n,r,r);h(t)}else h("")},[d,h,r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[(0,o.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:j("CAKE to lock")}),(0,o.jsxs)(a.Z,{alignItems:"center",minWidth:"70px",children:[(0,o.jsx)(l.Z,{src:"/images/tokens/".concat(n,".png"),width:24,height:24,alt:t}),(0,o.jsx)(s.Z,{ml:"4px",bold:!0,children:t})]})]}),(0,o.jsx)(c.Z,{isWarning:y,value:i,onUserInput:T,currencyValue:"~".concat(Z||0," USD"),decimals:r}),(0,o.jsx)(a.Z,{alignItems:"center",justifyContent:"flex-end",mt:"4px",mb:"12px",children:(0,o.jsx)(a.Z,{justifyContent:"flex-end",flexDirection:"column",children:y&&(0,o.jsx)(s.Z,{fontSize:"12px",color:"failure",children:C})})}),(0,o.jsx)(s.Z,{mt:"8px",textAlign:"end",color:"textSubtle",fontSize:"12px",mb:"8px",children:j("Balance: %balance%",{balance:(0,p.NJ)(d,r)})}),(0,o.jsx)(u.Z,{min:0,max:100,value:S,onValueChanged:A,name:"stake",valueLabel:"".concat(S,"%"),step:1}),(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(25)},children:"25%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(50)},children:"50%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(75)},children:"75%"}),(0,o.jsx)(v,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return A(100)},children:j("Max")})]})]})};n.Z=(0,f.memo)(b)},55768:function(e,n,t){var r=t(85893),o=t(67294),i=t(74903),a=t(13471),s=t(62712),l=t(61973),c=t(11699),u=t(42232),d=function(e){var n=e.lockEndTime,t=(0,o.useState)(0),d=t[0],m=t[1],x=(0,o.useMemo)(function(){return(0,l.Z)((0,u.Eg)(n),s.by)},[n]),f=(0,o.useCallback)(function(){m((0,c.Z)(x,new Date))},[x]);(0,i.Yz)(f,6e4);var h=(0,a.Z)(d),p=h.days,k=h.hours,g=h.minutes;return(0,r.jsx)(r.Fragment,{children:"".concat(p,"d: ").concat(k,"h: ").concat(g,"m")})};n.Z=(0,o.memo)(d)},36724:function(e,n,t){var r=t(85893),o=t(34701),i=t(27208),a=t(75943),s=t(52775),l=t(67294),c=t(60557),u=t(39274),d=t(49269),m=function(e){var n=e.stakingToken,t=e.currentStakedAmount,l=e.isInline,m=(0,s.$G)().t,x=(0,o.Z)().isMobile,f=l&&!x,h=(0,d.Z)().avgLockDurationsInSeconds,p=(0,c.o)({duration:h}).lockedApy;return(0,r.jsx)(i.Z,{variant:"warning",action:(0,r.jsx)(a.Z,{mt:!f&&"8px",flexGrow:1,ml:f&&"80px",children:(0,r.jsx)(u.Z,{modalTitle:m("Convert to Lock"),lockEndTime:"0",lockStartTime:"0",stakingToken:n,currentLockedAmount:t,children:m("Convert to Lock")})}),actionInline:f,children:(0,r.jsx)(i.Y,{children:m("Lock staking users are earning an average of %amount%% APY. More benefits are coming soon.",{amount:p?parseFloat(p).toFixed(2):0})})})};n.Z=(0,l.memo)(m)},60850:function(e,n,t){var r=t(7297),o=t(85893),i=t(67294),a=t(32762),s=t(44147),l=t(75943),c=t(62077),u=t(98553),d=t(27208),m=t(87379),x=t(52775),f=t(14841),h=t.n(f),p=t(62712),k=t(72248);function g(){var e=(0,r.Z)(["\n  text-align: right;\n  margin-right: 8px;\n"]);return g=function(){return e},e}var Z=[1,5,10,25],v=(0,m.ZP)(a.Z).withConfig({componentId:"sc-79aefbd4-0"})(g()),b=function(e){var n=e.duration,t=e.setDuration,r=e.isOverMax,a=e.currentDuration,m=e.currentDurationLeft,f=(0,x.$G)().t,g=(0,i.useState)(!1),b=g[0],j=g[1],w=m?p.VO-m:p.VO;(0,i.useEffect)(function(){b&&t(w)},[b,w,t]);var y=(0,i.useMemo)(function(){return a&&(0,k.Ot)(a)},[a]),C=(0,i.useMemo)(function(){return(0,k.Ot)(p.VO)},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.Z,{mb:"16px",children:[(0,o.jsxs)(l.Z,{mb:"8px",children:[(0,o.jsx)(c.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:f("Add")}),(0,o.jsx)(c.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:f("duration")})]}),(0,o.jsxs)(l.Z,{flexWrap:"wrap",children:[Z.map(function(e){var r=(0,k.AS)(e);return(0,o.jsxs)(u.Z,{onClick:function(){j(!1),t(r)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:r>w,variant:r===n?"subtle":"tertiary",children:[e,"W"]},e)}),(0,o.jsx)(u.Z,{onClick:function(){j(!0)},mt:"4px",mr:["2px","2px","4px","4px"],scale:"sm",disabled:w<p.kp,variant:b?"subtle":"tertiary",children:f("Max")},"max")]})]}),(0,o.jsxs)(l.Z,{justifyContent:"center",alignItems:"center",mb:"8px",children:[(0,o.jsx)(v,{value:(0,k.Ot)(n),autoComplete:"off",pattern:"^[0-9]+$",inputMode:"numeric",onChange:function(e){j(!1);var n,r,o=h()(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.value);e.currentTarget.validity.valid&&o<530&&t((0,k.AS)(h()(null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.value)))}}),(0,o.jsx)(c.Z,{children:f("Week")})]}),r&&(0,o.jsx)(c.Z,{fontSize:"12px",textAlign:"right",color:"failure",children:f("Total lock duration exceeds 52 weeks")}),m&&y===C&&!b?(0,o.jsx)(d.Z,{variant:"warning",children:(0,o.jsx)(d.Y,{maxWidth:"240px",children:f('Recommend choosing "MAX" to renew your staking position in order to keep similar yield boost.')})}):null]})};n.Z=b},56245:function(e,n,t){var r=t(85893),o=t(75943),i=t(62077),a=t(52775),s=function(e){var n=e.weekDuration,t=(0,a.$G)().t;return(0,r.jsxs)(o.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(i.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:t("Lock Duration")}),(0,r.jsx)(i.Z,{color:"text",bold:!0,fontSize:"16px",children:n})]})};n.Z=s},86981:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(85893),o=t(67294),i=t(5152),a=t.n(i),s=t(44147),l=t(62077),c=t(27208),u=t(75943),d=t(98553),m=t(63771),x=t(50308),f=t.n(x),h=t(52775),p=t(62712),k=t(59123),g=t(83251),Z=t(60494),v=t(60850),b=t(47568),j=t(70655),w=t(29315),y=t(82618),C=t(2629),S=t(36963),T=t(44431),A=t.n(T),D=t(19237),L=t(76431),P=t(45678),B=t(96470),V=t(96036),I=t(85900),E=t(87237),F=a()(function(){return Promise.all([t.e(5470),t.e(1608)]).then(t.bind(t,91608))},{loadableGenerated:{webpack:function(){return[91608]}},ssr:!1}),M=function(e){var n,t,i,a,x,T,M,N,G,O,$,U,W,z,H,_,K,R,Y,X,q,J=e.stakingToken,Q=e.onDismiss,ee=e.lockedAmount,en=e.currentBalance,et=e.currentDuration,er=e.currentDurationLeft,eo=e.editAmountOnly,ei=e.prepConfirmArg,ea=e.validator,es=e.customOverview,el=(0,h.$G)().t,ec=(0,g.dd)(),eu=(t=(n={stakingToken:J,onDismiss:Q,lockedAmount:ee,prepConfirmArg:ei}).lockedAmount,i=n.stakingToken,a=n.onDismiss,x=n.prepConfirmArg,T=(0,y.TL)(),M=(0,w.Ge)().account,G=(N=(0,L.Z)()).fetchWithCatchTxError,O=N.loading,$=(0,S.Ak)(B.om.CakeVault),U=(0,I.d)().callWithGasPrice,W=(0,h.$G)().t,z=(0,D.p)().toastSuccess,_=(H=(0,o.useState)(p.kp))[0],K=H[1],R=(0,C.Tx)(t.toNumber()),X=(0,o.useCallback)((Y=(0,b.Z)(function(e,n){var t,o;return(0,j.__generator)(this,function(i){switch(i.label){case 0:return t={gasLimit:p.Y4[B.om.CakeVault].gasLimit},[4,G(function(){return U($,"deposit",[e.toString(),n],t)})];case 1:return(null==(o=i.sent())?void 0:o.status)&&(z(W("Staked!"),(0,r.jsx)(V.Y,{txHash:o.transactionHash,children:W("Your funds have been staked in the pool")})),null==a||a(),T((0,P.x$)({account:M}))),[2]}})}),function(e,n){return Y.apply(this,arguments)}),[G,z,T,a,M,$,W,U]),q=(0,o.useCallback)((0,b.Z)(function(){var e,n,r,o,a,s;return(0,j.__generator)(this,function(l){return r=void 0===(n=(e="function"==typeof x?x({duration:_}):{}).finalLockedAmount)?t:n,a=void 0===(o=e.finalDuration)?_:o,s=(0,k.Qe)(new(A())(r),i.decimals),X(s,a),[2]})}),[x,i,X,_,t]),{usdValueStaked:R,duration:_,setDuration:K,pendingTx:O,handleConfirmClick:q}),ed=eu.usdValueStaked,em=eu.duration,ex=eu.setDuration,ef=eu.pendingTx,eh=eu.handleConfirmClick,ep=(0,o.useMemo)(function(){return"function"==typeof ea?ea({duration:em}):{isValidAmount:(null==ee?void 0:ee.toNumber())>0&&(0,k.U4)(en).gte(ee),isValidDuration:em>0&&em<=p.VO,isOverMax:em>p.VO}},[ea,en,ee,em]),ek=ep.isValidAmount,eg=ep.isValidDuration,eZ=ep.isOverMax,ev=(0,o.useMemo)(function(){return eg&&et&&et+em>p.VO},[eg,et,em]),eb=(0,o.useMemo)(function(){return null==en?void 0:en.gte(E.iL)},[en]),ej=(0,o.useMemo)(function(){return ev&&!eb},[ev,eb]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{mb:"16px",children:eo||(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v.Z,{isOverMax:eZ,currentDuration:et,currentDurationLeft:er,setDuration:ex,duration:em})})}),es?es({isValidDuration:eg,duration:em}):(0,r.jsx)(Z.Z,{isValidDuration:eg,openCalculator:f(),duration:em,lockedAmount:null==ee?void 0:ee.toNumber(),usdValueStaked:ed,showLockWarning:!0,ceiling:ec}),ev?eb?(0,r.jsx)(l.Z,{fontSize:"12px",mt:"24px",children:el("0.0001 CAKE will be spent to extend")}):(0,r.jsx)(c.Z,{variant:"warning",mt:"24px",children:(0,r.jsx)(c.Y,{maxWidth:"200px",children:el("0.0001 CAKE required for enabling extension")})}):null,(0,r.jsx)(u.Z,{mt:"24px",children:ej?(0,r.jsx)(F,{isValidAmount:ek,isValidDuration:eg}):(0,r.jsx)(d.Z,{width:"100%",isLoading:ef,endIcon:ef?(0,r.jsx)(m.Z,{spin:!0,color:"currentColor"}):null,onClick:eh,disabled:!(ek&&eg),children:el(ef?"Confirming":"Confirm")})})]})}},60494:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(85893),o=t(67294),i=t(44147),a=t(75943),s=t(62077),l=t(27208),c=t(95934),u=t(61973),d=t(60557),m=t(52775),x=t(14841),f=t.n(x),h=t(42232),p=t(72248),k=t(95923),g=t(7297),Z=t(87379);function v(){var e=(0,g.Z)(["\n  text-decoration: line-through;\n"]);return v=function(){return e},e}var b=(0,Z.ZP)(s.Z).withConfig({componentId:"sc-4b9cfd09-0"})(v()),j=function(e){var n=e.value,t=e.newValue;return(0,k.Z)(t)||(0,k.Z)(n)||n===t?(0,r.jsx)(s.Z,{bold:!0,fontSize:"16px",children:n||"-"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{bold:!0,fontSize:"16px",mr:"4px",children:n}),"->",(0,r.jsx)(s.Z,{bold:!0,color:"failure",ml:"4px",fontSize:"16px",children:t})]})},w=function(e){var n=e.title,t=e.value,o=e.newValue;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n}),(0,r.jsx)(a.Z,{alignItems:"center",children:(0,r.jsx)(j,{value:t,newValue:o})})]})},y=t(88896),C=t(94998),S=t(18778),T=function(e){var n=e.value,t=e.newValue,o=e.decimals,i=e.unit,a=e.prefix;return(0,k.Z)(t)||!n||n===t||0===f()(t)?(0,r.jsx)(S.s,{bold:!0,fontSize:"16px",value:n,decimals:o,unit:i,prefix:a}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{children:(0,r.jsx)(S.s,{bold:!0,fontSize:"16px",mr:"4px",value:n,decimals:o,unit:i,prefix:a})}),"->",(0,r.jsx)(S.s,{bold:!0,color:"failure",fontSize:"16px",ml:"4px",value:t,decimals:o,unit:i,prefix:a})]})},A=function(e){var n=e.title,t=e.value,o=e.newValue,i=e.unit,l=e.decimals,c=e.prefix,u=e.suffix,d=e.tooltipContent,m=(0,y.Z)(d,{placement:"bottom-start"}),x=m.targetRef,f=m.tooltip,h=m.tooltipVisible;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[h&&f,d?(0,r.jsx)(C.Z,{children:(0,r.jsx)(s.Z,{ref:x,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n})}):(0,r.jsx)(s.Z,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n}),(0,r.jsxs)(a.Z,{alignItems:"center",children:[(0,r.jsx)(T,{newValue:o,value:t,decimals:l,unit:i,prefix:c}),u]})]})},D=(0,o.memo)(A),L=t(42298),P=function(e){var n=e.title,t=e.value,o=e.color,i=(0,(0,m.$G)().t)("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked, i.e. when the staking period ends."),l=(0,y.Z)(i,{placement:"bottom-start"}),c=l.targetRef,u=l.tooltip,d=l.tooltipVisible;return(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[d&&u,(0,r.jsx)(C.Z,{children:(0,r.jsx)(s.Z,{ref:c,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n})}),(0,r.jsx)(s.Z,{bold:!0,color:o,children:t?(0,L.default)(t,"MMM do, yyyy HH:mm"):"-"})]})};function B(e){var n=e.lockedApy,t=e.usdValueStaked,r=e.duration,o=t*(Number(n)/100)*(r/31449600),i=o>1e4?0:2;return o.toLocaleString("en",{minimumFractionDigits:i,maximumFractionDigits:i})}var V=t(44431),I=t.n(V);function E(e){var n=e.lockedAmount,t=e.duration,r=e.ceiling,o=new(I())(t);return o.gte(r)?new(I())(n).toNumber():o.lt(r)&&o.gte(0)?o.times(n).div(r).toNumber():0}var F=t(89663),M=t(55078),N=t(55336),G=function(){var e=(0,o.useContext)(N.G);return(0,r.jsx)(F.Z,{variant:"text",scale:"sm",mr:"-8px",onClick:function(){return e&&e(!0)},children:(0,r.jsx)(M.Z,{color:"textSubtle",width:"18px"})})},O=function(e){var n=e.usdValueStaked,t=e.lockedAmount,x=e.duration,k=e.isValidDuration,g=e.newDuration,Z=e.newLockedAmount,v=e.lockStartTime,b=e.lockEndTime,j=e.showLockWarning,y=e.ceiling,C=(0,d.o)(),S=C.getLockedApy,T=C.getBoostFactor,A=(0,m.$G)().t,L=(0,o.useMemo)(function(){return S(x)},[S,x]),V=(0,o.useMemo)(function(){return T(x)},[T,x]),I=(0,o.useMemo)(function(){return g&&S(g)||0},[S,g]),F=(0,o.useMemo)(function(){return g&&T(g)||0},[T,g]),M=(0,o.useMemo)(function(){return B({usdValueStaked:n,lockedApy:L,duration:x})},[L,n,x]),N=(0,o.useMemo)(function(){return I&&B({usdValueStaked:n,lockedApy:I,duration:g})},[I,n,g]),O=new Date,$=g?(0,u.Z)(Number(v)?new Date((0,h.Eg)(v)):O,g):Number(b)?new Date((0,h.Eg)(b)):(0,u.Z)(O,x),U=(0,o.useMemo)(function(){return E({lockedAmount:t,duration:x,ceiling:y})},[t,x,y]),W=(0,o.useMemo)(function(){var e=Number(Z)?Z:t,n=Number(g)?g:x;return E({lockedAmount:e,duration:n,ceiling:y})},[t,Z,x,g,y]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(a.Z,{mb:"4px",children:[(0,r.jsx)(s.Z,{fontSize:"12px",color:"secondary",bold:!0,mr:"2px",textTransform:"uppercase",children:A("Lock")}),(0,r.jsx)(s.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:A("Overview")})]}),(0,r.jsxs)(c.m5,{children:[(0,r.jsx)(D,{title:A("Cake to be locked"),value:t,newValue:Z,decimals:2}),(0,r.jsx)(D,{title:"iCake",decimals:2,value:U,newValue:W}),(0,r.jsx)(D,{title:"apy",unit:"%",value:f()(L),decimals:2,newValue:f()(I),tooltipContent:A("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")}),(0,r.jsx)(w,{title:A("duration"),value:k&&(0,p.ZP)(x),newValue:k&&g&&(0,p.ZP)(g)}),(0,r.jsx)(D,{title:A("Yield boost"),unit:"x",value:f()(V),decimals:2,newValue:f()(F),tooltipContent:A("Your yield will be boosted based on the total lock duration of your current fixed term staking position.")}),(0,r.jsx)(P,{color:f()(g)?"failure":"text",title:A("Unlock on"),value:k&&$}),(0,r.jsx)(D,{title:A("Expected ROI"),value:M,newValue:N,prefix:"$",decimals:2,suffix:(0,r.jsx)(G,{}),tooltipContent:A("Calculated based on current rates and subject to change based on pool conditions. It is an estimate provided for your convenience only, and by no means represents guaranteed returns.")})]})]}),j&&(0,r.jsx)(i.Z,{mt:"16px",maxWidth:"370px",children:(0,r.jsx)(l.Z,{variant:"warning",children:(0,r.jsx)(l.Y,{children:A("You will be able to withdraw the staked CAKE and profit only when the staking position is unlocked")})})})]})}},89200:function(e,n,t){var r=t(85893),o=t(88896),i=t(75943),a=t(94998),s=t(62077),l=t(60557),c=t(18778),u=t(52775),d=function(e){var n=e.secondDuration,t=(0,l.o)({duration:n}).boostFactor,d=(0,u.$G)().t,m=d("Your yield will be boosted based on the total lock duration of your current fixed term staking position."),x=(0,o.Z)(m,{placement:"bottom-start"}),f=x.targetRef,h=x.tooltip,p=x.tooltipVisible;return(0,r.jsxs)(i.Z,{alignItems:"center",justifyContent:"space-between",children:[p&&h,(0,r.jsx)(a.Z,{children:(0,r.jsx)(s.Z,{ref:f,color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:d("Yield boost")})}),(0,r.jsx)(c.s,{color:"text",bold:!0,fontSize:"16px",value:t?null==t?void 0:t.toString():"0",decimals:2,unit:"x"})]})};n.Z=d},72417:function(e,n,t){var r=t(85893),o=t(67294),i=t(85937),a=t(44147),s=t(63850),l=t(2629),c=t(52775),u=t(14841),d=t.n(u),m=t(44431),x=t.n(m),f=t(6260),h=t(86981),p=t(55336),k=function(e){var n=e.onDismiss,t=e.currentBalance,u=e.stakingToken,m=e.stakingTokenBalance,k=(0,s.ZP)().theme,g=(0,o.useState)(""),Z=g[0],v=g[1],b=(0,c.$G)().t,j=(0,l.Tx)(d()(Z));return(0,r.jsx)(p.Z,{lockedAmount:Z,children:(0,r.jsxs)(i.Z,{title:b("Lock CAKE"),onDismiss:n,headerBackground:k.colors.gradientCardHeader,children:[(0,r.jsx)(a.Z,{mb:"16px",children:(0,r.jsx)(f.Z,{stakingAddress:u.address,stakingSymbol:u.symbol,stakingDecimals:u.decimals,lockedAmount:Z,usedValueStaked:j,stakingMax:t,setLockedAmount:v,stakingTokenBalance:m})}),(0,r.jsx)(h.Z,{currentBalance:t,stakingToken:u,onDismiss:n,lockedAmount:new(x())(Z)})]})})};n.Z=k},55336:function(e,n,t){t.d(n,{G:function(){return u}});var r=t(85893),o=t(67294),i=t(52775),a=t(83251),s=t(79833),l=t.n(s),c=t(92831),u=(0,o.createContext)(null),d=function(e){var n,t,s=e.children,d=e.lockedAmount,m=(0,o.useState)(!1),x=m[0],f=m[1],h=(0,i.$G)().t,p=(0,a.AI)(0).pool,k=(null==p?void 0:null===(n=p.stakingToken)||void 0===n?void 0:n.address)?p.stakingToken.address.toLowerCase():null;return x?(0,r.jsx)(c.E,{pool:p,linkLabel:h("Get %symbol%",{symbol:"CAKE"}),linkHref:k?"/swap?outputCurrency=".concat(k):"/swap",stakingTokenBalance:null==p?void 0:null===(t=p.userData)||void 0===t?void 0:t.stakingTokenBalance,onBack:function(){return f(!1)},initialValue:l()(d),initialView:1}):(0,r.jsx)(u.Provider,{value:f,children:s})};n.Z=d},22712:function(e,n,t){var r=t(52775),o=t(42232),i=t(72248),a=function(e){var n=e.lockEndTime,t=e.lockStartTime,a=(0,r.$G)().currentLanguage.locale,s=Number(n)-Number(t),l=(0,o.Eg)(n),c="",u="";try{c=new Date(l).toLocaleString(a,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),u=new Date(l+6048e5).toLocaleString(a,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(d){}return{weekDuration:(0,i.ZP)(s),remainingTime:(0,o.At)(l),lockEndDate:c,secondDuration:s,burnStartTime:u}};n.Z=a},3938:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(44431),o=t.n(r),i=t(52775),a=t(59123),s=t(67294),l=function(e,n){var t=(0,(0,i.$G)().t)("Insufficient CAKE balance");return{userNotEnoughCake:(0,s.useMemo)(function(){return!!new(o())(e).gt((0,a.U4)(n,18))},[e,n]),notEnoughErrorMessage:t}}},52438:function(e,n,t){var r=t(7297),o=t(85893),i=t(52775),a=t(87379),s=t(98768),l=t(85937),c=t(62077),u=t(98553),d=t(30793),m=t(63850);function x(){var e=(0,r.Z)(["\n  width: 100%;\n"]);return x=function(){return e},e}var f=(0,a.ZP)(s.Z).withConfig({componentId:"sc-f9a2dd70-0"})(x()),h=function(e){var n=e.tokenSymbol,t=e.onDismiss,r=(0,i.$G)().t,a=(0,m.ZP)().theme;return(0,o.jsxs)(l.Z,{title:r("%symbol% required",{symbol:n}),onDismiss:t,headerBackground:a.colors.gradientCardHeader,children:[(0,o.jsx)(c.Z,{color:"failure",bold:!0,children:r("Insufficient %symbol% balance",{symbol:n})}),(0,o.jsx)(c.Z,{mt:"24px",children:r("You’ll need %symbol% to stake in this pool!",{symbol:n})}),(0,o.jsx)(c.Z,{children:r("Buy some %symbol%, or make sure your %symbol% isn’t in another pool or LP.",{symbol:n})}),(0,o.jsxs)(u.Z,{mt:"24px",as:"a",external:!0,href:"/swap",children:[r("Buy")," ",n]}),(0,o.jsx)(f,{href:"https://yieldwatch.net",external:!0,children:(0,o.jsxs)(u.Z,{variant:"secondary",mt:"8px",width:"100%",children:[r("Locate Assets"),(0,o.jsx)(d.Z,{color:"primary",ml:"4px"})]})}),(0,o.jsx)(u.Z,{variant:"text",onClick:t,children:r("Close Window")})]})};n.Z=h},90520:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(85893),o=t(75943),i=t(62077),a=t(98768),s=t(21588),l=t(62685),c=t(40735),u=t(18778),d=t(95059),m=t(22746),x=t(52775),f=t(67294),h=t(88770),p=t(83251),k=t(96470),g=t(97119),Z=t(69352),v=t(87318),b=t(87237),j=t(59123),w=function(e){var n=e.small,t=void 0!==n&&n,l=e.stakingLimit,c=e.currentBlock,d=e.stakingLimitEndBlock,m=e.stakingToken,f=e.hasPoolStarted,h=(0,x.$G)().t;return(0,r.jsxs)(o.Z,{flexDirection:"column",children:[(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:t,children:[h("Max. stake per user"),":"]}),(0,r.jsx)(i.Z,{small:t,children:"".concat((0,j.NJ)(l,m.decimals,0)," ").concat(m.symbol)})]}),f&&(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:t,children:[h("Max. stake limit ends in"),":"]}),(0,r.jsxs)(a.Z,{external:!0,href:(0,g.C)(d,"countdown"),children:[(0,r.jsx)(u.Z,{small:t,value:Math.max(d-c,0),decimals:0,color:"primary"}),(0,r.jsx)(i.Z,{small:t,ml:"4px",color:"primary",textTransform:"lowercase",children:h("Blocks")}),(0,r.jsx)(s.Z,{ml:"4px",color:"primary"})]})]})]})},y=t(88896),C=t(94998),S=t(23702),T=t(49269),A=t(47451),D=function(e){var n=e.children,t=e.label;return(0,r.jsxs)(o.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",width:"100%",children:[t,(0,r.jsx)(o.Z,{alignItems:"center",children:n})]})},L=function(e){var n=e.userData,t=e.performanceFeeAsDecimal,o=(0,x.$G)().t,a=(0,y.Z)(o("Performance fee only applies to the flexible staking rewards."),{placement:"bottom-start"}),s=a.targetRef,l=a.tooltip,c=a.tooltipVisible,u=(0,S.p1)(n),d=(0,S.IM)(n);return!t||u?null:(0,r.jsxs)(D,{label:(0,r.jsx)(C.Z,{ref:s,small:!0,children:o("Performance Fee")}),children:[c&&l,(0,r.jsx)(i.Z,{ml:"4px",small:!0,children:d?"".concat(t,"%"):"0~".concat(t,"%")})]})},P=function(e){var n=e.total,t=e.token;return n&&n.gte(0)?(0,r.jsx)(u.Z,{small:!0,value:(0,j.mW)(n,t.decimals),decimals:0,unit:" ".concat(t.symbol)}):(0,r.jsx)(l.Z,{width:"90px",height:"21px"})},B=function(e){var n=e.totalLocked,t=e.lockedToken,o=(0,x.$G)().t;return(0,r.jsx)(D,{label:(0,r.jsxs)(i.Z,{small:!0,children:[o("Total locked"),":"]}),children:(0,r.jsx)(P,{total:n,token:t})})},V=function(){var e=(0,x.$G)().t,n=(0,y.Z)(e("The average lock duration of all the locked staking positions of other users"),{placement:"bottom-start"}),t=n.targetRef,o=n.tooltip,a=n.tooltipVisible,s=(0,T.Z)().avgLockDurationsInWeeks;return(0,r.jsxs)(D,{label:(0,r.jsxs)(C.Z,{ref:t,small:!0,children:[e("Average lock duration"),":"]}),children:[a&&o,(0,r.jsx)(i.Z,{ml:"4px",small:!0,children:s})]})},I=function(e){var n=e.totalStaked,t=e.stakingToken,o=(0,x.$G)().t,i=(0,y.Z)(o("Total amount of %symbol% staked in this pool",{symbol:t.symbol}),{placement:"bottom"}),a=i.targetRef,s=i.tooltip,l=i.tooltipVisible;return(0,r.jsxs)(D,{label:(0,r.jsxs)(C.Z,{ref:a,small:!0,children:[o("Total staked"),":"]}),children:[l&&s,(0,r.jsx)(P,{total:n,token:t})]})},E=function(e){var n=e.pool,t=e.stakedBalance,a=(0,x.$G)().t;return(0,r.jsxs)(o.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:!0,children:[a("APR"),":"]}),(0,r.jsx)(A.Z,{pool:n,showIcon:!0,stakedBalance:t,performanceFee:0,fontSize:"14px"})]})},F=function(e){var n=e.pool,t=e.account,f=e.showTotalStaked,j=e.alignLinksToRight,y=void 0===j||j,C=(0,x.$G)().t,S=(0,h.je)(),T=n.stakingToken,A=n.earningToken,D=n.totalStaked,P=n.startBlock,F=n.endBlock,M=n.stakingLimit,N=n.stakingLimitEndBlock,G=n.contractAddress,O=n.vaultKey,$=n.profileRequirement,U=n.isFinished,W=n.userData,z=(null==W?void 0:W.stakedBalance)?W.stakedBalance:v.HW,H=(0,p.eB)(O),_=H.totalCakeInVault,K=H.totalLockedAmount,R=H.fees.performanceFeeAsDecimal,Y=H.userData,X=A.address||"",q=(0,Z.Kn)(G),J=(0,Z.ZX)(O),Q=(0,b.zy)(n,S),ee=Q.shouldShowBlockCountdown,en=Q.blocksUntilStart,et=Q.blocksRemaining,er=Q.hasPoolStarted,eo=Q.blocksToDisplay;return(0,r.jsxs)(r.Fragment,{children:[$&&($.required||$.thresholdPoints.gt(0))&&(0,r.jsxs)(o.Z,{mb:"8px",justifyContent:"space-between",children:[(0,r.jsxs)(i.Z,{small:!0,children:[C("Requirement"),":"]}),(0,r.jsxs)(i.Z,{small:!0,textAlign:"right",children:[$.required&&C("Pancake Profile")," ",$.thresholdPoints.gt(0)&&(0,r.jsxs)(i.Z,{small:!0,children:[$.thresholdPoints.toNumber().toLocaleString()," ",C("Profile Points")]})]})]}),!O&&(0,r.jsx)(E,{pool:n,stakedBalance:z}),(void 0===f||f)&&(0,r.jsx)(I,{totalStaked:O?_:D,stakingToken:T}),O===k.om.CakeVault&&(0,r.jsx)(B,{totalLocked:K,lockedToken:T}),O===k.om.CakeVault&&(0,r.jsx)(V,{}),!U&&M&&M.gt(0)&&(0,r.jsx)(w,{small:!0,currentBlock:S,hasPoolStarted:er,stakingLimit:M,stakingLimitEndBlock:N,stakingToken:T}),ee&&(0,r.jsxs)(o.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(i.Z,{small:!0,children:[C(er?"Ends in":"Starts in"),":"]}),et||en?(0,r.jsx)(o.Z,{alignItems:"center",children:(0,r.jsxs)(a.Z,{external:!0,href:(0,g.C)(er?F:P,"countdown"),children:[(0,r.jsx)(u.Z,{small:!0,value:eo,decimals:0,color:"primary"}),(0,r.jsx)(i.Z,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:C("Blocks")}),(0,r.jsx)(s.Z,{ml:"4px",color:"primary"})]})}):(0,r.jsx)(l.Z,{width:"54px",height:"21px"})]}),O&&(0,r.jsx)(L,{userData:Y,performanceFeeAsDecimal:R}),(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(c.Z,{href:"/info/token/".concat(A.address),bold:!1,small:!0,children:C("See Token Info")})}),!O&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(c.Z,{href:A.projectLink,bold:!1,small:!0,children:C("View Project Site")})}),O&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(c.Z,{href:"https://docs.pancakeswap.finance/products/syrup-pool/new-cake-pool",bold:!1,small:!0,children:C("View Tutorial")})}),q&&(0,r.jsx)(o.Z,{mb:"2px",justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(c.Z,{href:"".concat(m.eG.blockExplorers.default.url,"/address/").concat(O?J:q),bold:!1,small:!0,children:C("View Contract")})}),t&&X&&(0,r.jsx)(o.Z,{justifyContent:y?"flex-end":"flex-start",children:(0,r.jsx)(d.Z,{variant:"text",p:"0",height:"auto",style:{fontSize:"14px",fontWeight:"400",lineHeight:"normal"},marginTextBetweenLogo:"4px",textOptions:d.L.TEXT,tokenAddress:X,tokenSymbol:A.symbol,tokenDecimals:A.decimals,tokenLogo:"https://tokens.pancakeswap.finance/images/".concat(X,".png")})})]})},M=(0,f.memo)(F)},59600:function(e,n,t){t.d(n,{X:function(){return T}});var r,o,i,a=t(14924),s=t(26042),l=t(69396),c=t(99534),u=t(85893),d=t(44754),m=t(55368),x=t(90649),f=t(42885),h=t(22769),p=t(44147),k=t(62077),g=t(44142),Z=t(4369),v=t(52775),b=t(67294),j=t(23702),w=(r={},(0,a.Z)(r,j.PS.None,{}),(0,a.Z)(r,j.PS.Flexible,{variant:"success"}),(0,a.Z)(r,j.PS.Locked,{variant:"secondary"}),(0,a.Z)(r,j.PS.LockedEnd,{variant:"secondary",outline:!0}),(0,a.Z)(r,j.PS.AfterBurning,{variant:"failure",outline:!0}),r),y=(o={},(0,a.Z)(o,j.PS.None,null),(0,a.Z)(o,j.PS.Flexible,d.Z),(0,a.Z)(o,j.PS.Locked,m.Z),(0,a.Z)(o,j.PS.LockedEnd,x.Z),(0,a.Z)(o,j.PS.AfterBurning,f.Z),o),C=(i={},(0,a.Z)(i,j.PS.None,""),(0,a.Z)(i,j.PS.Flexible,(0,u.jsx)(Z.Z,{children:"Flexible"})),(0,a.Z)(i,j.PS.Locked,(0,u.jsx)(Z.Z,{children:"Locked"})),(0,a.Z)(i,j.PS.LockedEnd,(0,u.jsx)(Z.Z,{children:"Locked End"})),(0,a.Z)(i,j.PS.AfterBurning,(0,u.jsx)(Z.Z,{children:"After Burning"})),i),S=function(e){var n=e.position;return(0,u.jsxs)(h.Z,(0,l.Z)((0,s.Z)({},w[n]),{children:[(0,u.jsx)(p.Z,{as:y[n],mr:"4px"}),C[n]]}))},T=function(e){var n=e.userData,t=(0,c.Z)(e,["userData"]),r=(0,v.$G)().t,o=(0,b.useMemo)(function(){return(0,j.cP)(n)},[n]);return o?(0,u.jsxs)(g.O,(0,l.Z)((0,s.Z)({alignItems:"center",justifyContent:"space-between",marginX:"8px",mb:"8px",gap:"12px"},t),{children:[(0,u.jsx)(k.Z,{fontSize:"12px",color:"secondary",textTransform:"uppercase",bold:!0,children:r("My Position")}),(0,u.jsx)(S,{position:o})]})):null}},92831:function(e,n,t){t.d(n,{E:function(){return v}});var r=t(26042),o=t(69396),i=t(99534),a=t(85893),s=t(51983),l=t(12587),c=t(44147),u=t(92764),d=t(40925),m=t(52775),x=t(60557),f=t(67294),h=t(96470),p=t(83251),k=t(42115),g=t(60850),Z=t(72248),v=function(e){var n,t,d=e.pool,k=e.initialView,v=(0,i.Z)(e,["pool","initialView"]),j=(0,p.eB)(d.vaultKey).userData.balance.cakeAsBigNumber,w=(0,x.o)(),y=w.getLockedApy,C=w.flexibleApy,S=(0,m.$G)().t,T=(0,f.useState)(k||0),A=T[0],D=T[1],L=(0,f.useState)(function(){return(0,Z.AS)(1)}),P=L[0],B=L[1],V=(0,f.useMemo)(function(){return[(0,a.jsx)(s.Z,{children:S("Flexible")},"Flexible"),(0,a.jsx)(s.Z,{children:S("Locked")},"Locked"),]},[S]),I=(0,f.useMemo)(function(){return 0===A?C:y(P)},[A,y,C,P]);return(0,a.jsx)(u.Z,(0,o.Z)((0,r.Z)({stakingTokenSymbol:d.stakingToken.symbol,apy:+I,initialState:{controls:{compounding:!1}},linkHref:"/swap",linkLabel:S("Get %symbol%",{symbol:d.stakingToken.symbol}),earningTokenPrice:d.earningTokenPrice,stakingTokenPrice:d.stakingTokenPrice,stakingTokenBalance:(null===(n=d.userData)||void 0===n?void 0:n.stakingTokenBalance)?j.plus(null===(t=d.userData)||void 0===t?void 0:t.stakingTokenBalance):j,autoCompoundFrequency:1,strategy:A?function(e,n){return(0,a.jsx)(b,{state:e,dispatch:n,stakingTokenPrice:d.stakingTokenPrice,earningTokenPrice:d.earningTokenPrice,duration:P})}:null,header:d.vaultKey===h.om.CakeVault?(0,a.jsx)(l.Z,{mb:"24px",fullWidth:!0,scale:"sm",variant:"subtle",activeIndex:A,onItemClick:D,children:V}):(0,a.jsx)(a.Fragment,{})},v),{children:A&&(0,a.jsx)(c.Z,{mt:"16px",children:(0,a.jsx)(g.Z,{duration:P,setDuration:B,isOverMax:!1})})}))};function b(e){var n=e.state,t=e.dispatch,r=e.earningTokenPrice,o=e.duration,i=e.stakingTokenPrice,a=(0,x.o)().getLockedApy,s=n.data,l=s.principalAsUSD,c=s.roiUSD,u=n.controls,m=u.compounding,h=u.compoundingFrequency,p=u.stakingDuration,g=u.mode;return(0,f.useEffect)(function(){if(g===d.ee.ROI_BASED_ON_PRINCIPAL){var e=parseFloat(l),n=e/r*(+a(o)/100)*(o/31449600),i=!Number.isNaN(n),s=i?n:0,c=i?s*r:0,u=i?(0,k.Lu)({amountEarned:c,amountInvested:e}):0;t({type:"setRoi",payload:{roiUSD:c,roiTokens:s,roiPercentage:u}})}},[l,p,r,m,h,g,o,t,a,]),(0,f.useEffect)(function(){if(g===d.ee.PRINCIPAL_BASED_ON_ROI){var e=c/(+a(o)/100)/(o/31449600),n=(0,k.Lu)({amountEarned:c,amountInvested:e});t({type:"setPrincipalForTargetRoi",payload:{principalAsUSD:e.toFixed(2),principalAsToken:(e/i).toFixed(10),roiPercentage:n}})}},[t,o,a,g,c,i]),null}},323:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(85893),o=t(88896),i=t(44147),a=t(98553),s=t(94998),l=t(44142),c=t(52775),u=function(e){var n=e.onFlexibleClick,t=e.onLockedClick,u=(0,c.$G)().t,d=(0,o.Z)((0,r.jsx)(i.Z,{children:u("Flexible staking offers flexibility for staking/unstaking whenever you want. Locked staking offers higher APY as well as other benefits.")}),{}),m=d.targetRef,x=d.tooltip,f=d.tooltipVisible;return(0,r.jsxs)(i.Z,{width:"100%",children:[(0,r.jsxs)(l.O,{gap:"12px",children:[(0,r.jsx)(a.Z,{style:{flex:1},onClick:n,children:u("Flexible")}),t&&(0,r.jsx)(a.Z,{style:{flex:1},onClick:t,children:u("Locked")})]}),f&&x,t&&(0,r.jsx)(s.Z,{mt:"16px",small:!0,ref:m,children:u("What’s the difference?")})]})}},79108:function(e,n,t){t.d(n,{iB:function(){return Z},dI:function(){return b},Le:function(){return v}});var r=t(47568),o=t(70655),i=t(85893),a=t(67294),s=t(29315),l=t(21046),c=t(82618);t(66947);var u=t(45678),d=t(52775),m=t(36963),x=t(19237),f=t(85900),h=t(76431),p=t(96036),k=t(49729),g=t(71850),Z=function(e,n,t){var k=(0,x.p)().toastSuccess,g=(0,h.Z)(),Z=g.fetchWithCatchTxError,v=g.loading,b=(0,f.d)().callWithGasPrice,j=(0,d.$G)().t,w=(0,c.TL)(),y=(0,s.Ge)().account,C=(0,m.AP)(n);return{handleApprove:(0,a.useCallback)((0,r.Z)(function(){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,Z(function(){return b(e,"approve",[C.address,l.Bz])})];case 1:return(null==(r=o.sent())?void 0:r.status)&&(k(j("Contract Enabled"),(0,i.jsx)(p.Y,{txHash:r.transactionHash,children:j("You can now stake in the %symbol% pool!",{symbol:t})})),w((0,u.Oy)({sousId:n,account:y}))),[2]}})}),[y,w,e,C,n,t,j,k,b,Z,]),pendingTx:v}},v=function(e,n){var t=(0,m.Ak)(e),r=(0,d.$G)().t;return(0,g.Z)(n,null==t?void 0:t.address,r("You can now stake in the %symbol% vault!",{symbol:"CAKE"}))},b=function(e){var n=(0,m.Ak)(e);return(0,k.Z)(null==n?void 0:n.address)}},15184:function(e,n,t){t.d(n,{D:function(){return o}});var r=t(67294),o=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:259200;return e+t-Math.floor(Date.now()/1e3)>0},i=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:259200,o=(0,r.useState)(null),i=o[0],a=o[1],s=(0,r.useState)(!1),l=s[0],c=s[1],u=(0,r.useState)(function(){return Math.floor(Date.now()/1e3)}),d=u[0],m=u[1];return(0,r.useEffect)(function(){var r=e+t-d,o=n.gt(0)&&r>0,i=function(){m(function(e){return e+1})},s=setInterval(function(){return i()},1e3);return o?(a(r),c(!0)):(c(!1),clearInterval(s)),function(){return clearInterval(s)}},[e,t,a,d,n]),{hasUnstakingFee:l,secondsRemaining:i}};n.Z=i}}]);