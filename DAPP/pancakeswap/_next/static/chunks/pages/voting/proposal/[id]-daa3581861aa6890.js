(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9700],{47889:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/voting/proposal/[id]",function(){return t(24608)}])},79207:function(n,e,t){"use strict";t.d(e,{Z:function(){return x}});var r=t(85893);t(67294);var o=t(6531),i=t(7297),s=t(87379);function c(){var n=(0,i.Z)(["\n  display: flex;\n  z-index: 2;\n  top: -65%;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  transition: left 200ms ease-out;\n"]);return c=function(){return n},n}var a=s.ZP.div.withConfig({componentId:"sc-a698ef92-0"}).withConfig({componentId:"sc-d864b77e-0"})(c()),l=t(62968),d=t(94065),u=function(n){return n<0?0:n>100?100:n},x=function(n){var e=n.variant,t=void 0===e?d.o.ROUND:e,i=n.scale,s=void 0===i?d.Q.MD:i,c=n.primaryStep,x=void 0===c?0:c,h=n.secondaryStep,p=void 0===h?null:h,f=n.showProgressBunny,Z=n.useDark,m=void 0===Z||Z,j=n.children;return(0,r.jsx)(o.Z,{$useDark:m,variant:t,scale:s,children:j||(0,r.jsxs)(r.Fragment,{children:[void 0!==f&&f&&(0,r.jsx)(a,{style:{left:"".concat(u(x),"%")},children:(0,r.jsx)(l.Z,{})}),(0,r.jsx)(o.$,{$useDark:m,primary:!0,style:{width:"".concat(u(x),"%")}}),p?(0,r.jsx)(o.$,{$useDark:m,style:{width:"".concat(u(p),"%")}}):null]})})}},6531:function(n,e,t){"use strict";t.d(e,{$:function(){return f},Z:function(){return Z}});var r,o,i=t(7297),s=t(87379),c=t(57247),a=t(16557),l=t(14924),d=t(94065),u=(r={},(0,l.Z)(r,d.o.ROUND,{borderRadius:"32px"}),(0,l.Z)(r,d.o.FLAT,{borderRadius:0}),r),x=(o={},(0,l.Z)(o,d.Q.MD,{height:"16px"}),(0,l.Z)(o,d.Q.SM,{height:"8px"}),o);function h(){var n=(0,i.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ",";\n  height: 100%;\n  transition: width 200ms ease;\n"]);return h=function(){return n},n}function p(){var n=(0,i.Z)(["\n  position: relative;\n  background-color: ",";\n  box-shadow: ",";\n  overflow: hidden;\n\n  "," {\n    border-top-left-radius: ",";\n    border-bottom-left-radius: ",";\n  }\n\n  ","\n  ","\n  ","\n"]);return p=function(){return n},n}var f=s.ZP.div.withConfig({componentId:"sc-347a4242-0"}).withConfig({componentId:"sc-ffa90952-0"})(h(),function(n){var e=n.theme,t=n.$useDark,r=n.primary,o=n.$background;return o||(t?r?e.colors.secondary:"".concat(e.colors.secondary80):r?a.C.secondary:"".concat(a.C.secondary80))});f.defaultProps={primary:!1};var Z=s.ZP.div.withConfig({componentId:"sc-347a4242-1"}).withConfig({componentId:"sc-ffa90952-1"})(p(),function(n){var e=n.theme;return n.$useDark?e.colors.input:a.C.input},function(n){return n.theme.shadows.inset},f,function(n){return n.variant===d.o.FLAT?"0":"32px"},function(n){return n.variant===d.o.FLAT?"0":"32px"},(0,c.bU)({variants:u}),(0,c.bU)({prop:"scale",variants:x}),c.Dh)},94065:function(n,e,t){"use strict";t.d(e,{Q:function(){return o},o:function(){return r}});var r={ROUND:"round",FLAT:"flat"},o={MD:"md",SM:"sm"}},1274:function(n,e,t){"use strict";var r=t(26042),o=t(69396),i=t(85893);t(67294);var s=t(44976),c=function(n){return(0,i.jsx)(s.Z,(0,o.Z)((0,r.Z)({viewBox:"0 0 24 24"},n),{children:(0,i.jsx)("path",{d:"M8.11997 14.7101L12 10.8301L15.88 14.7101C16.27 15.1001 16.9 15.1001 17.29 14.7101C17.68 14.3201 17.68 13.6901 17.29 13.3001L12.7 8.7101C12.31 8.3201 11.68 8.3201 11.29 8.7101L6.69997 13.3001C6.30997 13.6901 6.30997 14.3201 6.69997 14.7101C7.08997 15.0901 7.72997 15.1001 8.11997 14.7101Z"})}))};e.Z=c},62968:function(n,e,t){"use strict";var r=t(26042),o=t(69396),i=t(85893);t(67294);var s=t(44976),c=function(n){return(0,i.jsxs)(s.Z,(0,o.Z)((0,r.Z)({viewBox:"0 0 34 38"},n),{children:[(0,i.jsx)("rect",{x:"8.83594",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,i.jsx)("rect",{x:"19.4385",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,i.jsx)("path",{d:"M8.5 13.0084C13.1944 8.40751 20.8056 8.40751 25.5 13.0084C30.1944 17.6093 30.1944 25.0689 25.5 29.6698L17.6538 37.3597C17.2927 37.7136 16.7073 37.7136 16.3462 37.3597L8.5 29.6698C3.80558 25.0689 3.80558 17.6093 8.5 13.0084Z",fill:"#D1884F"}),(0,i.jsx)("ellipse",{cx:"12.3696",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"}),(0,i.jsx)("ellipse",{cx:"21.2056",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"})]}))};e.Z=c},71476:function(n,e,t){"use strict";var r=t(7297),o=t(85893),i=t(87379),s=t(69136),c=t(27553);function a(){var n=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return a=function(){return n},n}var l=(0,i.ZP)(c.Z).withConfig({componentId:"sc-5ad34a86-0"})(a()),d=function(){return(0,o.jsx)(l,{children:(0,o.jsx)(s.Z,{})})};e.Z=d},24608:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return nY},default:function(){return n0}});var r,o=t(85893),i=t(8100),s=t(47568),c=t(70655),a=t(44147),l=t(98553),d=t(87844),u=t(75943),x=t(69589),h=t(27553),p=t(58412),f=t(29315),Z=t(49770),m=t(96470),j=t(41664),v=t.n(j),g=t(11163),b=t(52775),w=t(44305),C=t(44035),y=t(28415),k=t(71476),S=t(75759),I=t(80197),D=t(85520),B=t(49804),P=t(7297),L=t(20353),F=t(55209),E=t(70257),V=t(62077),$=t(40735),_=t(87379),A=t(42298),M=t(97119),N=t(15260),T=t(81896);function G(){var n=(0,P.Z)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 16px;\n"]);return G=function(){return n},n}var z=(0,_.ZP)(a.Z).withConfig({componentId:"sc-97c77ecf-0"})(G(),function(n){return n.theme.colors.background},function(n){return n.theme.colors.cardBorder}),H=function(n){var e=n.proposal,t=(0,b.$G)().t,r=new Date(1e3*e.start),i=new Date(1e3*e.end);return(0,o.jsxs)(L.Z,{mb:"16px",children:[(0,o.jsx)(F.Z,{children:(0,o.jsx)(x.Z,{as:"h3",scale:"md",children:t("Details")})}),(0,o.jsxs)(E.Z,{children:[(0,o.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,o.jsx)(V.Z,{color:"textSubtle",children:t("Identifier")}),(0,o.jsx)($.Z,{href:"".concat(T.Gs,"/").concat(e.id),ml:"8px",children:e.id.slice(0,8)})]}),(0,o.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,o.jsx)(V.Z,{color:"textSubtle",children:t("Creator")}),(0,o.jsx)($.Z,{href:(0,M.C)(e.author,"address"),ml:"8px",children:(0,N.Z)(e.author)})]}),(0,o.jsxs)(u.Z,{alignItems:"center",mb:"16px",children:[(0,o.jsx)(V.Z,{color:"textSubtle",children:t("Snapshot")}),(0,o.jsx)($.Z,{href:(0,M.C)(e.snapshot,"block"),ml:"8px",children:e.snapshot})]}),(0,o.jsxs)(z,{p:"16px",children:[(0,o.jsx)(D.U,{proposalState:e.state,mb:"8px"}),(0,o.jsxs)(u.Z,{alignItems:"center",children:[(0,o.jsx)(V.Z,{color:"textSubtle",fontSize:"14px",children:t("Start Date")}),(0,o.jsx)(V.Z,{ml:"8px",children:(0,A.default)(r,"yyyy-MM-dd HH:mm")})]}),(0,o.jsxs)(u.Z,{alignItems:"center",children:[(0,o.jsx)(V.Z,{color:"textSubtle",fontSize:"14px",children:t("End Date")}),(0,o.jsx)(V.Z,{ml:"8px",children:(0,A.default)(i,"yyyy-MM-dd HH:mm")})]})]})]})]})},O=t(22769),U=t(39398),R=t(79207),Q=t(62685),J=t(59123);function K(){var n=(0,P.Z)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return K=function(){return n},n}var X,q=(0,_.ZP)(V.Z).withConfig({componentId:"sc-aef14575-0"})(K()),W=function(n){var e=n.choices,t=n.votes,r=n.votesLoadingStatus,i=(0,b.$G)().t,s=(0,I.zn)(t),c=(0,f.Ge)().account,l=(0,I.Z$)(t);return(0,o.jsxs)(L.Z,{children:[(0,o.jsx)(F.Z,{children:(0,o.jsx)(x.Z,{as:"h3",scale:"md",children:i("Current Results")})}),(0,o.jsxs)(E.Z,{children:[r===S.iF.Fetched&&e.map(function(n,e){var t=s[n]||[],r=(0,I.Z$)(t),d=0===l?0:r/l*100,x=t.some(function(n){return c&&n.voter.toLowerCase()===c.toLowerCase()});return(0,o.jsxs)(a.Z,{mt:e>0?"24px":"0px",children:[(0,o.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,o.jsx)(q,{mb:"4px",title:n,children:n}),x&&(0,o.jsxs)(O.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,o.jsx)(U.Z,{mr:"4px"})," ",i("Voted")]})]}),(0,o.jsx)(a.Z,{mb:"4px",children:(0,o.jsx)(R.Z,{primaryStep:d,scale:"sm"})}),(0,o.jsxs)(u.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(V.Z,{color:"textSubtle",children:i("%total% Votes",{total:(0,J.uf)(r,0,2)})}),(0,o.jsxs)(V.Z,{children:[d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),"%"]})]})]},n)}),r===S.iF.Fetching&&e.map(function(n,e){return(0,o.jsxs)(a.Z,{mt:e>0?"24px":"0px",children:[(0,o.jsx)(u.Z,{alignItems:"center",mb:"8px",children:(0,o.jsx)(q,{mb:"4px",title:n,children:n})}),(0,o.jsx)(a.Z,{mb:"4px",children:(0,o.jsx)(Q.Z,{height:"36px",mb:"4px"})})]},n)})]})]})},Y=t(26042),nn=t(69396),ne=t(99534),nt=t(10253),nr=t(67294),no=t(19237),ni=t(21812),ns=t(42289),nc=t(7447),na=t(14924),nl=t(85937),nd=t(63850);(X=r||(r={})).MAIN="main",X.DETAILS="details";var nu=t(44431),nx=t.n(nu),nh=t(27208),np=t(68479),nf=t(89663),nZ=t(37303),nm=t(63771),nj=t(34532),nv=t(2803),ng=function(n){var e=n.vote,t=n.total,r=n.isPending,i=n.isLoading,s=n.isError,c=n.onConfirm,a=n.onViewDetails,d=n.onDismiss,x=n.disabled,h=n.lockedCakeBalance,p=n.lockedEndTime,f=(0,b.$G)().t,Z=(0,nj.Z)(),m=h>0,j=(0,nr.useMemo)(function(){return 0!==p&&new(nx())(null==Z?void 0:Z.toString()).gte(p)},[Z,p]),v=m&&!j;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(nv.IM,{children:[(0,o.jsx)(V.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:f("Voting For")}),(0,o.jsx)(q,{bold:!0,fontSize:"20px",mb:"8px",title:e.label,children:e.label}),(0,o.jsx)(V.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:f("Your Voting Power")}),i&&!s?(0,o.jsx)(Q.Z,{height:"64px",mb:"12px"}):s?(0,o.jsx)(nh.Z,{variant:"danger",mb:"12px",children:(0,o.jsx)(V.Z,{color:"text",children:f("Error occurred, please try again later")})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nv.jb,{hasBoosted:v,onClick:a,style:{cursor:"pointer"},children:(0,o.jsxs)(nv.K7,{hasBoosted:v,children:[(0,o.jsxs)(u.Z,{flexDirection:"column",children:[(0,o.jsx)(V.Z,{bold:!0,fontSize:"20px",color:0===t?"failure":"text",children:(0,J.uf)(t,0,3)}),m&&(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(np.Z,{color:j?"warning":"secondary",width:"15px",height:"15px"}),(0,o.jsx)(V.Z,{ml:"4px",bold:!0,color:j?"warning":"secondary",fontSize:"14px",children:f(j?"Boosting Expired":"Boosted by vCAKE")})]})]}),(0,o.jsx)(nf.Z,{scale:"sm",variant:"text",children:(0,o.jsx)(nZ.Z,{width:"24px"})})]})}),0===t?(0,o.jsx)(nh.Z,{variant:"danger",mb:"12px",children:(0,o.jsx)(V.Z,{color:"danger",children:f("Hold some CAKE in your wallet or on PancakeSwap at the snapshot block to get voting power for future proposals.")})}):(0,o.jsx)(V.Z,{as:"p",color:"textSubtle",fontSize:"14px",children:f("Are you sure you want to vote for the above choice? This action cannot be undone.")})]})]}),(0,o.jsx)(l.Z,{isLoading:r,endIcon:r?(0,o.jsx)(nm.Z,{spin:!0,color:"currentColor"}):null,disabled:x||i||0===t,width:"100%",mb:"8px",onClick:c,children:f("Confirm Vote")}),(0,o.jsx)(l.Z,{variant:"secondary",width:"100%",onClick:d,children:f("Cancel")})]})},nb=t(86540),nw=t(58433),nC=function(n){var e,t,i=n.onSuccess,l=n.proposalId,d=n.vote,u=n.block,x=n.onDismiss,h=(0,nr.useState)(r.MAIN),p=h[0],Z=h[1],j=(0,nr.useState)(!0),v=j[0],g=j[1],w=(0,nr.useState)(!1),C=w[0],y=w[1],k=(0,f.Ge)().account,S=(0,b.$G)().t,D=(0,f.QW)().signMessageAsync,B=(0,no.p)().toastError,P=(0,nd.ZP)().theme,L=(0,nw.Z)(u,v),F=L.isLoading,E=L.isError,V=L.total,$=L.cakeBalance,_=L.cakeVaultBalance,A=L.cakePoolBalance,M=L.poolsBalance,N=L.cakeBnbLpBalance,T=L.ifoPoolBalance,G=L.lockedCakeBalance,z=L.lockedEndTime,H=p===r.MAIN,O=H?null:function(){return Z(r.MAIN)},U=function(){return Z(r.DETAILS)},R=(e={},(0,na.Z)(e,r.MAIN,S("Confirm Vote")),(0,na.Z)(e,r.DETAILS,S("Voting Power")),e),Q=function(){g(!1),x()},J=(t=(0,s.Z)(function(){var n,e,t,r,o;return(0,c.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,5,6]),y(!0),n=JSON.stringify((0,nn.Z)((0,Y.Z)({},(0,I.GB)()),{type:m.Nl.VOTE,payload:{proposal:l,choice:d.value}})),[4,D({message:n})];case 1:return t={address:k,msg:n,sig:e.sent()},[4,(0,I.Jl)(t)];case 2:return e.sent(),[4,i()];case 3:return e.sent(),Q(),[3,6];case 4:return r=e.sent(),B(S("Error"),null!==(o=null==r?void 0:r.message)&&void 0!==o?o:S("Error occurred, please try again")),console.error(r),[3,6];case 5:return y(!1),[7];case 6:return[2]}})}),function(){return t.apply(this,arguments)});return(0,o.jsx)(nl.Z,{title:R[p],onBack:O,onDismiss:x,hideCloseButton:!H,headerBackground:P.colors.gradientCardHeader,children:(0,o.jsxs)(a.Z,{mb:"24px",children:[p===r.MAIN&&(0,o.jsx)(ng,{vote:d,isError:E,isLoading:F,isPending:C,total:V,lockedCakeBalance:G,lockedEndTime:z,onConfirm:J,onViewDetails:U,onDismiss:Q}),p===r.DETAILS&&(0,o.jsx)(nb.Z,{total:V,cakeBalance:$,ifoPoolBalance:T,cakeVaultBalance:_,cakePoolBalance:A,poolsBalance:M,cakeBnbLpBalance:N,block:u,lockedCakeBalance:G,lockedEndTime:z})]})})};function ny(){var n=(0,P.Z)(["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: 16px;\n  cursor: ",";\n  display: flex;\n  margin-bottom: 16px;\n  padding: 16px;\n"]);return ny=function(){return n},n}function nk(){var n=(0,P.Z)(["\n  flex: 1;\n  padding-left: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 0;\n"]);return nk=function(){return n},n}var nS=_.ZP.label.withConfig({componentId:"sc-1aee476-0"})(ny(),function(n){var e=n.theme,t=n.isChecked;return e.colors[t?"success":"cardBorder"]},function(n){return n.isDisabled?"not-allowed":"pointer"}),nI=_.ZP.div.withConfig({componentId:"sc-1aee476-1"})(nk()),nD=function(n){var e,t=n.proposal,r=n.onSuccess,i=(0,ne.Z)(n,["proposal","onSuccess"]),a=(0,nr.useState)(null),d=a[0],u=a[1],h=(0,b.$G)().t,p=(0,no.p)().toastSuccess,Z=(0,f.Ge)().account,m=(e=(0,s.Z)(function(){return(0,c.__generator)(this,function(n){return p(h("Vote cast!")),null==r||r(),[2]})}),function(){return e.apply(this,arguments)}),j=(0,nt.Z)((0,ni.Z)((0,o.jsx)(nC,{onSuccess:m,proposalId:t.id,vote:d,block:Number(t.snapshot)})),1)[0];return(0,o.jsxs)(L.Z,(0,nn.Z)((0,Y.Z)({},i),{children:[(0,o.jsx)(F.Z,{children:(0,o.jsx)(x.Z,{as:"h3",scale:"md",children:h("Cast your vote")})}),(0,o.jsxs)(E.Z,{children:[t.choices.map(function(n,e){var t=e+1===(null==d?void 0:d.value),r=function(){u({label:n,value:e+1})};return(0,o.jsxs)(nS,{isChecked:t,isDisabled:!Z,children:[(0,o.jsx)("div",{style:{flexShrink:0},children:(0,o.jsx)(ns.Z,{scale:"sm",value:n,checked:t,onChange:r,disabled:!Z})}),(0,o.jsx)(nI,{children:(0,o.jsx)(V.Z,{as:"span",title:n,children:n})})]},n)}),Z?(0,o.jsx)(l.Z,{onClick:j,disabled:null===d,children:h("Cast Vote")}):(0,o.jsx)(nc.Z,{})]})]}))},nB=t(1274),nP=t(57049),nL=t(75472),nF=t.n(nL),nE=t(98913),nV=t.n(nE);function n$(){var n=(0,P.Z)(["\n  border-bottom: 1px solid ",";\n  padding: 16px 24px;\n"]);return n$=function(){return n},n}function n_(){var n=(0,P.Z)(["\n  flex: 1;\n"]);return n_=function(){return n},n}var nA=(0,_.ZP)(u.Z).withConfig({componentId:"sc-3b23a182-0"})(n$(),function(n){return n.theme.colors.cardBorder}),nM=(0,_.ZP)(Q.Z).withConfig({componentId:"sc-3b23a182-1"})(n_()),nN=function(){return(0,o.jsx)(a.Z,{children:nV()(10).map(function(n){return(0,o.jsxs)(nA,{children:[(0,o.jsx)(Q.Z,{height:"21px",mr:"32px",width:"100px"}),(0,o.jsx)(nM,{height:"21px",mr:"32px",width:"100%"}),(0,o.jsx)(nM,{height:"21px",width:"100%"})]},n)})})},nT=t(66260);function nG(){var n=(0,P.Z)(["\n  grid-area: address;\n"]);return nG=function(){return n},n}function nz(){var n=(0,P.Z)(["\n  grid-area: choice;\n  overflow: hidden;\n"]);return nz=function(){return n},n}function nH(){var n=(0,P.Z)(["\n  justify-self: end;\n  grid-area: vote;\n"]);return nH=function(){return n},n}function nO(){var n=(0,P.Z)(["\n  border-bottom: 1px solid ",";\n  grid-gap: 8px;\n  grid-template-areas:\n    'address address address'\n    'choice choice vote';\n  grid-template-columns: 1fr 1fr 120px;\n  padding: 8px 16px;\n\n  "," {\n    grid-gap: 16px;\n    grid-template-areas: 'address choice vote';\n    padding: 16px 24px;\n  }\n"]);return nO=function(){return n},n}var nU=(0,_.ZP)(a.Z).attrs({alignItems:"center"}).withConfig({componentId:"sc-6b2d99e6-0"})(nG()),nR=(0,_.ZP)(a.Z).withConfig({componentId:"sc-6b2d99e6-1"})(nz()),nQ=(0,_.ZP)(a.Z).withConfig({componentId:"sc-6b2d99e6-2"})(nH()),nJ=(0,_.ZP)(nT.Z).withConfig({componentId:"sc-6b2d99e6-3"})(nO(),function(n){return n.theme.colors.cardBorder},function(n){return n.theme.mediaQueries.sm}),nK=function(n){var e,t=n.vote,r=n.isVoter,i=(0,b.$G)().t,s=!!(null===(e=t.metadata)||void 0===e?void 0:e.votingPower),c=s?parseFloat(t.metadata.votingPower).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:3}):"--";return(0,o.jsxs)(nJ,{children:[(0,o.jsx)(nU,{children:(0,o.jsxs)(u.Z,{alignItems:"center",children:[(0,o.jsx)($.Z,{href:(0,M.C)(t.voter,"address"),children:(0,N.Z)(t.voter)}),r&&(0,o.jsxs)(O.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,o.jsx)(U.Z,{mr:"4px"})," ",i("Voted")]})]})}),(0,o.jsx)(nR,{children:(0,o.jsx)(q,{title:t.proposal.choices[t.choice-1],children:t.proposal.choices[t.choice-1]})}),(0,o.jsx)(nQ,{children:(0,o.jsxs)(u.Z,{alignItems:"center",justifyContent:"end",children:[(0,o.jsx)(V.Z,{title:t.metadata.votingPower,children:c}),s&&(0,o.jsx)($.Z,{href:"".concat(T.Gs,"/").concat(t.id)})]})})]})},nX=function(n){var e,t=parseFloat(null==n?void 0:null===(e=n.metadata)||void 0===e?void 0:e.votingPower);return t||(t=0),t},nq=function(n){var e=n.votes,t=n.votesLoadingStatus,r=n.totalVotes,i=(0,nr.useState)(!1),s=i[0],c=i[1],a=(0,b.$G)().t,d=(0,f.Ge)().account,h=nF()(e,[nX,"created"],["desc","desc"]),p=s?h:h.slice(0,20),Z=t===S.iF.Fetched,m=function(){c(!s)};return(0,o.jsxs)(L.Z,{children:[(0,o.jsx)(F.Z,{children:(0,o.jsxs)(u.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(x.Z,{as:"h3",scale:"md",children:a("Votes (%count%)",{count:r?r.toLocaleString():"-"})}),!Z&&(0,o.jsx)(nm.Z,{spin:!0,width:"22px"})]})}),!Z&&(0,o.jsx)(nN,{}),Z&&p.length>0&&(0,o.jsxs)(o.Fragment,{children:[p.map(function(n){var e=d&&n.voter.toLowerCase()===d.toLowerCase();return(0,o.jsx)(nK,{vote:n,isVoter:e},n.id)}),(0,o.jsx)(u.Z,{alignItems:"center",justifyContent:"center",py:"8px",px:"24px",children:(0,o.jsx)(l.Z,{width:"100%",onClick:m,variant:"text",endIcon:s?(0,o.jsx)(nB.Z,{color:"primary",width:"21px"}):(0,o.jsx)(nP.Z,{color:"primary",width:"21px"}),disabled:!Z,children:a(s?"Hide":"See All")})})]}),Z&&0===p.length&&(0,o.jsx)(u.Z,{alignItems:"center",justifyContent:"center",py:"32px",children:(0,o.jsx)(x.Z,{as:"h5",children:a("No votes found")})})]})},nW=function(){var n,e=(0,g.useRouter)(),t=e.query,r=e.isFallback,i=t.id,j=(0,b.$G)().t,P=(0,f.Ge)().account,L=(0,Z.Z)(i?["proposal",i]:null,function(){return(0,p.pU)(i)}),F=L.status,E=L.data,V=L.error,$=(0,Z.Z)(E?["proposal",E,"votes"]:null,(0,s.Z)(function(){return(0,c.__generator)(this,function(n){return[2,(0,p.uy)(E)]})})),_=$.status,A=$.data,M=$.mutate,N=P&&A&&A.some(function(n){return n.voter.toLowerCase()===P.toLowerCase()}),T=_===S.iF.Fetching||F===S.iF.Fetching;return!E&&V?(0,o.jsx)(y.Z,{}):r||!E?(0,o.jsx)(k.Z,{}):(0,o.jsxs)(w.Z,{py:"40px",children:[(0,o.jsx)(h.V,{}),(0,o.jsx)(a.Z,{mb:"40px",children:(0,o.jsx)(v(),{href:"/voting",passHref:!0,children:(0,o.jsx)(l.Z,{as:"a",variant:"text",startIcon:(0,o.jsx)(d.Z,{color:"primary",width:"24px"}),px:"0",children:j("Back to Vote Overview")})})}),(0,o.jsxs)(B.Z,{children:[(0,o.jsxs)(a.Z,{children:[(0,o.jsxs)(a.Z,{mb:"32px",children:[(0,o.jsxs)(u.Z,{alignItems:"center",mb:"8px",children:[(0,o.jsx)(D.U,{proposalState:E.state}),(0,o.jsx)(D.g,{isCoreProposal:(0,I.md)(E),ml:"8px"})]}),(0,o.jsx)(x.Z,{as:"h1",scale:"xl",mb:"16px",children:E.title}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(C.Z,{children:E.body})})]}),!T&&!N&&E.state===m.r7.ACTIVE&&(0,o.jsx)(nD,{proposal:E,onSuccess:M,mb:"16px"}),(0,o.jsx)(nq,{votes:A,totalVotes:null!==(n=null==A?void 0:A.length)&&void 0!==n?n:E.votes,votesLoadingStatus:_})]}),(0,o.jsxs)(a.Z,{position:"sticky",top:"60px",children:[(0,o.jsx)(H,{proposal:E}),(0,o.jsx)(W,{choices:E.choices,votes:A,votesLoadingStatus:_})]})]})]})},nY=!0,n0=function(n){var e=n.fallback;return(0,o.jsx)(i.J$,{value:{fallback:void 0===e?{}:e},children:(0,o.jsx)(nW,{})})}},28415:function(n,e,t){"use strict";var r=t(7297),o=t(85893),i=t(87379),s=t(67952),c=t(69589),a=t(62077),l=t(98553),d=t(27553),u=t(52775),x=t(41664),h=t.n(x);function p(){var n=(0,r.Z)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 64px);\n  justify-content: center;\n"]);return p=function(){return n},n}var f=i.ZP.div.withConfig({componentId:"sc-27d142db-0"})(p()),Z=function(n){var e=n.statusCode,t=(0,u.$G)().t;return(0,o.jsx)(d.Z,{children:(0,o.jsxs)(f,{children:[(0,o.jsx)(s.Z,{width:"64px",mb:"8px"}),(0,o.jsx)(c.Z,{scale:"xxl",children:void 0===e?404:e}),(0,o.jsx)(a.Z,{mb:"16px",children:t("Oops, page not found.")}),(0,o.jsx)(h(),{href:"/",passHref:!0,children:(0,o.jsx)(l.Z,{as:"a",scale:"sm",children:t("Back Home")})})]})})};e.Z=Z}},function(n){n.O(0,[2298,6600,4297,7492,77,9774,2888,179],function(){return n(n.s=47889)}),_N_E=n.O()}]);