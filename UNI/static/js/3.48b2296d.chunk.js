(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[3],{1677:function(e,t,n){},1740:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return u}));n(314),n(1909);var r="rgw6ez17h rgw6ez10t rgw6ez70h rgw6eznt rgw6ezo5",a="_13bxg42",c="rgw6ez6mh rgw6ezuh rgw6ez14n rgw6ez6u9 rgw6ez6kx rgw6ez4rt",i="_13bxg46 rgw6ez17z rgw6ez14n rgw6ez41z rgw6ezch rgw6ezah rgw6ez40h rgw6ez35 rgw6ez43b rgw6ez4h rgw6ez6m5",s="_13bxg48 rgw6ez6ud rgw6ez6kx rgw6ez4rz",o="_13bxg4a rgw6ez2kh rgw6ez2ez rgw6ez23z rgw6ez29t",u="rgw6ez2pz rgw6ez6lx rgw6ez4rt rgw6ez6kx rgw6ez6ud"},1741:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return O}));var r=n(4),a=n.n(r),c=n(45),i=n(17),s=n(27),o=n(488),u=n(698),l=n(172),g=n(1716),f=function(e){var t=e.listing,n=e.newStatus,r=e.rows,a=e.setRows,c=e.callback,i=Object(s.a)(r),o=r.findIndex((function(e){return e===t}));t.status=n,c&&(t.callback=c),i[o]=t,a(i)};function d(e,t,n,r,a,c){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark((function e(t,n,r,c,i,s){var p,b,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({listing:t,newStatus:l.g.SIGNING,rows:n,setRows:r,callback:function(){return d(t,n,r,c,i,s)}}),p=t.marketplace,b=t.collectionAddress,h="OpenSea"===p.name?u.c:"Rarible"===p.name?o.c:"X2Y2"===p.name?o.f:i,e.next=5,Object(g.b)(null!==h&&void 0!==h?h:"",b,c,(function(e){return f({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:t.status!==l.g.REJECTED&&t.status!==l.g.FAILED||s();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r,a,c,i,s){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(a.a.mark((function e(t,n,r,c,i,s,o,u){var d,p,h,w,E;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=s(),f({listing:t,newStatus:l.g.SIGNING,rows:n,setRows:r,callback:function(){return b(t,n,r,c,i,s,o,u)}}),p=t.asset,h=t.marketplace,e.next=5,Object(g.c)(h,p,c,i,d,(function(e){return f({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:w=e.sent,t.status===l.g.REJECTED?u():(w&&"LooksRare"===t.marketplace.name&&o(d+1),E=w?l.g.APPROVED:l.g.FAILED,f({listing:t,newStatus:E,rows:n,setRows:r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=e.reduce((function(e,t){var n;if(null===(n=t.newListings)||void 0===n?void 0:n.length){var r,a,c=t.newListings.reduce((function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:0)>(null!==(r=t.price)&&void 0!==r?r:0)?e:t}));return e+(null!==(r=c.price)&&void 0!==r?r:0)-(null!==(a=c.price)&&void 0!==a?a:0)*(c.marketplace.fee/100+t.creatorPercentage)}return e}),0);return t?Math.round(100*t+Number.EPSILON)/100:0},E=function(e){var t=[],n=[];return e.forEach((function(e){var r;null===(r=e.marketplaces)||void 0===r||r.forEach((function(r){var a={images:[e.image_preview_url,r.icon],name:e.name||"#".concat(e.tokenId),status:l.g.DEFINED,asset:e,marketplace:r};if(n.push(a),!t.some((function(t){return t.collectionAddress===e.asset_contract.address&&t.marketplace.name===r.name}))){var c={images:[e.asset_contract.image_url,r.icon],name:e.asset_contract.name,status:l.g.DEFINED,collectionAddress:e.asset_contract.address,marketplace:r};t.push(c)}}))})),[t,n]},v=function(e,t){var n=!0,r=!0,a=!0,i=!0,s=!0,o=!1,u=!1,g=!1,f=!1;0===e.length&&(s=i=!1);var d,p=Object(c.a)(e);try{for(p.s();!(d=p.n()).done;){var b=d.value;b.status!==l.g.PENDING&&(i=!1),b.status!==l.g.DEFINED&&(s=!1),b.status===l.g.SIGNING?o=!0:b.status===l.g.FAILED?u=!0:b.status===l.g.REJECTED?g=!0:b.status===l.g.PAUSED&&(f=!0)}}catch(v){p.e(v)}finally{p.f()}0===t.length&&(a=r=n=!1);var h,w=Object(c.a)(t);try{for(w.s();!(h=w.n()).done;){var E=h.value;E.status!==l.g.PENDING&&(n=!1),E.status!==l.g.DEFINED&&(r=!1),E.status!==l.g.APPROVED&&(a=!1),E.status===l.g.SIGNING?o=!0:E.status===l.g.FAILED?u=!0:E.status===l.g.REJECTED?g=!0:E.status===l.g.PAUSED&&(f=!0)}}catch(v){w.e(v)}finally{w.f()}return{allListingsPending:n,allListingsDefined:r,allListingsApproved:a,allCollectionsPending:i,allCollectionsDefined:s,anyActiveSigning:o,anyActiveFailures:u,anyActiveRejections:g,anyPaused:f}},m=function(e){return e!==l.g.PAUSED&&e!==l.g.APPROVED},j=function(e,t,n){e.status!==l.g.PENDING&&e.status!==l.g.DEFINED||f({listing:e,newStatus:l.g.PAUSED,rows:t,setRows:n})},O=function(e,t,n){e.status!==l.g.PAUSED&&e.status!==l.g.FAILED&&e.status!==l.g.REJECTED||f({listing:e,newStatus:l.g.DEFINED,rows:t,setRows:n})}},1763:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(45),a=n(10),c=n(166),i=n(72),s=n(112),o=n(138),u=n(287),l=n(207),g=n(172),f=n(1682),d=n(1),p=n(1740),b=n(1741),h=n(0),w=function(e){var t=e.onClick,n=e.buttonText,w=e.showWarningOverride,E=void 0!==w&&w,v=Object(l.n)((function(e){return e.sellAssets})),m=Object(l.n)((function(e){return e.addMarketplaceWarning})),j=Object(l.n)((function(e){return e.removeAllMarketplaceWarnings})),O=Object(l.k)((function(e){return e.listingStatus})),D=Object(l.k)((function(e){return e.setListingStatus})),N=Object(l.k)((function(e){return e.setListings})),k=Object(l.k)((function(e){return e.setCollectionsRequiringApproval})),I=Object(d.useState)(!1),x=Object(a.a)(I,2),z=x[0],P=x[1],S=Object(d.useState)(!1),A=Object(a.a)(S,2),y=A[0],R=A[1],L=Object(d.useRef)(null);Object(c.a)(L,(function(){P(!1)})),Object(d.useEffect)((function(){var e=Object(b.c)(v),t=Object(a.a)(e,2),n=t[0],r=t[1];N(r),k(n),D(g.g.DEFINED)}),[v]);var C=Object(d.useMemo)((function(){var e,t=v.some((function(e){return void 0===e.marketplaces||0===e.marketplaces.length})),n=v.some((function(e){return null!=e.expirationTime&&1e3*e.expirationTime-Date.now()<6e4})),a=v.some((function(e){return null!=e.expirationTime&&isNaN(e.expirationTime)})),c=v.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()>15552e6})),i=[],s=[],o=[],u=[],l=Object(r.a)(v);try{for(l.s();!(e=l.n()).done;){var g=e.value;if(g.newListings){var f,d=Object(r.a)(g.newListings);try{for(d.s();!(f=d.n()).done;){var p=f.value;p.price?isNaN(p.price)||p.price<0?u.push([g,p]):p.price<g.floorPrice&&!p.overrideFloorPrice?s.push([g,p]):g.floor_sell_order_price&&p.price>g.floor_sell_order_price&&o.push([g,p]):i.push([g,p])}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){l.e(h)}finally{l.f()}var b=0===s.length&&0===o.length;return R(b),[t,n,a,c,i,s,o,u]}),[v]),F=Object(a.a)(C,8),G=F[0],T=F[1],_=F[2],U=F[3],J=F[4],V=F[5],W=F[6],M=F[7],B=Object(d.useMemo)((function(){return[G||T||_||U||M.length>0||J.length>0,G?"No marketplaces selected":T?"Set duration":_?"Invalid duration":U?"Max duration is 6 months":J.length>0?"".concat(J.length," item price").concat(Object(f.a)(J.length)," not set"):M.length>0?"".concat(M.length," price").concat(Object(f.a)(M.length)," are invalid"):V.length>0?"".concat(V.length," item").concat(Object(f.a)(V.length)," listed below floor"):W.length>0?"".concat(W.length," item").concat(Object(f.a)(W.length)," already listed"):""]}),[G,T,_,U,J,M,V,W]),q=Object(a.a)(B,2),H=q[0],X=q[1];Object(d.useEffect)((function(){P(!1)}),[X]);var Y=function(){!H&&y||E?t():function(){if(j(),!T&&!G)if(J.length>0){var e,t=Object(r.a)(J);try{for(t.s();!(e=t.n()).done;){var n=Object(a.a)(e.value,2),c=n[0],i=n[1];m(c,{message:"PLEASE SET A PRICE",marketplace:i.marketplace})}}catch(f){t.e(f)}finally{t.f()}}else if(M.length>0){var s,o=Object(r.a)(M);try{for(o.s();!(s=o.n()).done;){var u=Object(a.a)(s.value,2),l=u[0],g=u[1];!g.overrideFloorPrice&&m(l,{message:"INVALID PRICE",marketplace:g.marketplace})}}catch(f){o.e(f)}finally{o.f()}}P(!0)}()};return Object(h.jsxs)(i.b,{position:"relative",width:"full",children:[!E&&z&&X.length>0&&Object(h.jsxs)(s.c,{className:"".concat(u.c," ").concat(p.g),transition:"250",onClick:function(){return P(!1)},color:"textSecondary",zIndex:"3",borderRadius:"4",backgroundColor:"backgroundSurface",height:H?"36":"64",maxWidth:"276",position:"absolute",left:"24",bottom:"52",flexWrap:H?"nowrap":"wrap",style:{maxWidth:H?"":"225px"},ref:L,children:[Object(h.jsx)(o.H,{}),Object(h.jsx)(i.b,{marginLeft:"4",marginRight:"8",children:X}),H?Object(h.jsx)(i.b,{paddingTop:"6",children:Object(h.jsx)(o.pb,{fill:"textSecondary",height:"20",width:"20"})}):Object(h.jsxs)(s.c,{marginLeft:"72",cursor:"pointer",color:"genieBlue",onClick:function(){P(!1),R(!0),t()},children:["Continue",Object(h.jsx)(o.f,{height:"20",width:"20"})]})]}),Object(h.jsx)(i.b,{as:"button",border:"none",backgroundColor:"genieBlue",cursor:[g.g.APPROVED,g.g.PENDING,g.g.SIGNING].includes(O)||H?"default":"pointer",color:"explicitWhite",className:p.a,onClick:function(){return O!==g.g.APPROVED&&Y()},type:"button",style:{opacity:![g.g.DEFINED,g.g.FAILED,g.g.CONTINUE].includes(O)||H?.3:1},children:O===g.g.SIGNING||O===g.g.PENDING?Object(h.jsxs)(s.c,{gap:"8",children:[Object(h.jsx)(o.N,{stroke:"backgroundSurface",height:"20",width:"20"}),O===g.g.PENDING?"Pending":"Proceed in wallet"]}):O===g.g.APPROVED?"Complete!":O===g.g.PAUSED?"Paused":O===g.g.FAILED?"Try again":O===g.g.CONTINUE?"Continue":n})]})}},1909:function(e,t,n){}}]);
//# sourceMappingURL=3.48b2296d.chunk.js.map